/* === 메인 애플리케이션 스타일 === */

/* 기본 리셋 */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: white;
    color: #383838;
    line-height: 1.5;
    height: 100vh;
    overflow: hidden;
}


/* === 앱 컨테이너 === */
.app-container {
    display: flex;
    justify-content: flex-end;
    width: 100%;
    height: 100vh;
    /* Changed from min-height */
    padding: 0 0 46px 0;
    /* Added padding for footer */
    border-radius: 12px;
    overflow: visible;
}

/* === 앱 헤더 (숨김 처리) === */
.app-header {
    display: none;
    /* 새로운 헤더 디자인으로 대체됨 */
}

/* 8개 아이템 헤더 - 기존 구조 호환 */
.header-meta {
    display: flex;
    flex-direction: column;
    gap: 8px;
    font-size: 12px;
    width: 100%;
    max-width: 700px;
}

.meta-row {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 8px;
}

/* 첫 번째 행 스타일링 (감정/상태 + 새로고침) */
#metaRow1 {
    /* 라인 제거 */
}

/* 두 번째 행 스타일링 (관리/액션 + 요약토글) */
#metaRow2 {
    /* 기본 스타일 */
}

.meta-item {
    background: rgba(255, 255, 255, 0.12);
    padding: 4px 10px;
    border-radius: 14px;
    font-weight: 500;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 4px;
    text-align: center;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    min-height: 24px;
    border: 1px solid rgba(255, 255, 255, 0.2);
    font-size: 12px;
    letter-spacing: 0.1px;
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
}

.meta-item:first-child {
    border-left: 1px solid rgba(255, 255, 255, 0.2);
    padding-left: 10px;
}

.header-actions {
    display: flex;
    gap: 8px;
}

/* 액션 아이템 (버튼 포함) */
.action-item {
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.15);
}

.action-btn {
    background: transparent;
    padding: 4px 8px;
    border-radius: 10px;
    font-weight: 500;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 4px;
    text-align: center;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    width: 100%;
    height: 100%;
    min-height: 24px;
    font-size: 11px;
    color: rgba(255, 255, 255, 0.95);
    border: none;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-icon {
    font-size: 14px;
}

.btn-text {
    font-size: 11px;
    font-weight: 500;
}

.action-btn:hover {
    background: rgba(255, 255, 255, 0.25);
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* === 앱 메인 (스크롤 컨테이너 개선) === */
.app-main {
    width: 100%;
    max-width: 900px;
    height: 100%;
    /* Use 100% to fill parent */
    background: white !important;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    border: 1px solid #e5e7eb;
    margin: 0 auto;
    /* Removed margin-bottom */
    padding: 0 0 0 0;
    /* 하단 패딩 추가 - 풋터와의 자연스러운 간격 */
    overflow: hidden;
    /* Change to hidden to contain children */
    position: relative;
    display: flex;
    flex-direction: column;
}

/* 채팅 탭 활성화 시 앱 메인 스크롤 비활성화 */
/* body:has(.tab-content[data-tab="copilot"].active) .app-main {
    overflow: hidden !important;
} */

/* 채팅 탭에서도 풋터는 유지 - 피드백 기능 필요 */

/* === AI 요약 섹션 (기존 구조 유지) === */
.summary-section {
    background: #ffffff;
    /*border-bottom: 1px solid #e5e7eb;*/
    transition: all 0.3s ease;
    z-index: 997;
    flex-shrink: 0;
    /* JavaScript로 표시/숨김 제어됨 */
}

.summary-section.collapsed {
    height: 0 !important;
    max-height: 0 !important;
    border-bottom: none !important;
    opacity: 0 !important;
    overflow: hidden !important;
    margin: 0 !important;
    padding: 0 !important;
    min-height: 0 !important;
    display: none !important;
}

.summary-section.expanded {
    max-height: 500px;
    opacity: 1;
}

/* 모달 환경에서 요약 접기 시 탭 네비게이션 위치 조정 */
/* 요약 섹션이 접힐 때 탭 위치 조정 */
.summary-section.collapsed+.tab-navigation {
    top: 100px;
    /* 헤더 바로 아래로 이동 (헤더 높이 100px) */
}

/* === 공통 헤더 스타일 (4개 탭 모두 동일) === */
.summary-header {
    background: rgba(255, 255, 255, 0.5) !important;
    /* Enhanced semi-transparent background with glassmorphism */
    backdrop-filter: blur(20px) saturate(180%) !important;
    -webkit-backdrop-filter: blur(20px) saturate(180%) !important;
    border: 1px solid rgba(255, 255, 255, 0.18) !important;
    border-bottom: 1px solid rgba(59, 130, 246, 0.15) !important;
    position: sticky !important;
    position: -webkit-sticky !important;
    top: 0px !important;
    /* Stick below tab navigation (44px = actual tab button height) */
    width: 100% !important;
    z-index: 1000 !important;
    flex-shrink: 0 !important;
    box-shadow:
        0 8px 32px rgba(31, 38, 135, 0.15),
        0 2px 16px rgba(255, 255, 255, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
    min-height: 48px !important;
    max-height: 48px !important;
    height: 48px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    padding: 0 24px !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.summary-title-row {
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    width: 100% !important;
    vertical-align: middle !important;
}

.summary-title {
    font-size: 14px;
    font-weight: 600;
    color: #1e40af;
    display: flex;
    align-items: center;
    gap: 12px;
    letter-spacing: 0.025em;
}

.summary-icon {
    font-size: 18px;
}

.summary-label {
    font-weight: 600;
}

.summary-title i {
    color: #3284D6;
}

/* === 통합된 한 줄 레이아웃 === */
.summary-unified-row {
    display: flex !important;
    align-items: center !important;
    flex-direction: row !important;
    width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
    gap: 20px !important;
    height: 100% !important;
    vertical-align: middle !important;
    justify-content: center !important;
    /* Center the content */
}

/* 통합 레이아웃 내 감정 분석 스타일 - 복사하기 버튼과 동일한 스타일 적용 */
.summary-unified-row .emotion-status {
    flex: 0 0 auto !important;
    /* flex 단축형으로 고정 크기 */
    padding: 6px 12px;
    border: 1px solid rgba(59, 130, 246, 0.2);
    background: rgba(147, 197, 253, 0.08);
    border-radius: 8px;
    font-size: 13px;
    font-weight: 500;
    color: #1e40af;
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 120px;
    /* 최소 너비 설정 */
    max-width: 200px;
    /* 최대 너비 제한 */
    width: auto;
    /* 자동 너비 */
}

/* 통합 레이아웃 내 복사 버튼 스타일 */
.summary-unified-row .summary-copy-action {
    flex: 0 0 auto !important;
    /* flex 단축형으로 고정 크기 */
}

.summary-unified-row .summary-copy-action .card-btn {
    min-width: 120px;
    /* 감정분석과 동일한 최소 너비 */
    flex: none;
    /* flex-grow 비활성화 */
}

/* 통합 레이아웃 내 토글 영역을 중앙에 배치 */
.summary-unified-row .toggle-labels {
    flex: 1 1 auto !important;
    /* 남은 공간 차지 */
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 16px;
    max-width: 300px;
    margin: 0 auto;
    /* 중앙 정렬 */
}

/* === 채팅 통합 레이아웃 (요약과 동일한 구조) === */
.chat-unified-row {
    display: flex !important;
    align-items: center !important;
    flex-direction: row !important;
    width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
    gap: 20px !important;
    height: 100% !important;
    vertical-align: middle !important;
    justify-content: center !important;
}

/* 채팅 모드 상태 (감정분석과 동일한 스타일) */
.chat-unified-row .chat-mode-status {
    flex: 0 0 auto !important;
    padding: 10px 16px;
    border: 1px solid rgba(59, 130, 246, 0.2);
    background: rgba(147, 197, 253, 0.08);
    border-radius: 10px;
    font-size: 13px;
    font-weight: 500;
    color: #1e40af;
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 120px;
    max-width: 200px;
    width: auto;
}

/* 채팅 액션 영역 (복사하기 버튼과 동일한 스타일) */
.chat-unified-row .chat-actions {
    flex: 0 0 auto !important;
    min-width: 120px;
}

/* 채팅 토글 영역 (중앙 배치) - 통합된 헤더 구조에서 사용 */
.chat-unified-row .chat-toggle-labels,
.summary-unified-row .chat-toggle-labels {
    flex: 1 1 auto !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 16px;
    max-width: 300px;
    margin: 0 auto;
}

/* === Apple 스타일 토글 스위치 === */
.summary-toggle-container {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
    /* 양끝 정렬로 변경 */
    gap: 16px;
    /* 간격 증가 */
    width: 100%;
    padding: 0 20px;
    /* 좌우 패딩 추가 */
}

.toggle-labels {
    display: flex;
    align-items: center;
    justify-content: space-between;
    /* 양끝 정렬 */
    width: 100%;
    /* 전체 너비 사용 */
    gap: 16px;
    /* 텍스트와 토글 사이 간격 */
    font-size: 13px;
    font-weight: 500;
    color: #64748b;
}

/* === 토글 라벨 기본 색상 (요약 + 채팅) === */
.toggle-label.left,
.chat-toggle-label.left {
    color: #1e40af !important;
    /* 기본 상태에서 왼쪽이 파란색 */
}

.toggle-label.right,
.chat-toggle-label.right {
    color: #64748b !important;
    /* 기본 상태에서 오른쪽이 회색 */
}

/* === 공통 Apple 스타일 토글 스위치 (요약 + 채팅) === */
.apple-toggle-switch,
.apple-chat-toggle {
    position: relative;
    width: 54px;
    height: 28px;
    background: linear-gradient(135deg, rgba(147, 197, 253, 0.3) 0%, rgba(59, 130, 246, 0.15) 100%) !important;
    border-radius: 14px;
    border: 1px solid rgba(59, 130, 246, 0.3) !important;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    box-shadow: 0 2px 8px rgba(59, 130, 246, 0.1) !important;
    flex-shrink: 0;
}

.apple-toggle-switch:hover,
.apple-chat-toggle:hover {
    background: linear-gradient(135deg, rgba(147, 197, 253, 0.4) 0%, rgba(59, 130, 246, 0.25) 100%) !important;
    border-color: rgba(59, 130, 246, 0.4) !important;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15) !important;
}

.toggle-slider,
.chat-toggle-slider {
    position: absolute;
    top: 2px;
    left: 2px;
    width: 24px;
    height: 24px;
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 50%, #1d4ed8 100%) !important;
    border-radius: 12px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 2px 6px rgba(59, 130, 246, 0.3), 0 1px 3px rgba(0, 0, 0, 0.1) !important;
}

/* 토글 상태 변경 - 요약과 채팅 공통 */
.apple-toggle-switch.temporal .toggle-slider,
.apple-chat-toggle.general .chat-toggle-slider {
    transform: translateX(26px) !important;
}

.apple-toggle-switch.temporal .toggle-label.left,
.apple-chat-toggle.general .chat-toggle-label.left {
    color: #64748b !important;
}

.apple-toggle-switch.temporal .toggle-label.right,
.apple-chat-toggle.general .chat-toggle-label.right {
    color: #1e40af !important;
}

.summary-copy-action {
    display: flex;
    gap: 8px;
}

.summary-action-btn {
    background: white;
    border: 1px solid #e5e7eb;
    padding: 8px 16px;
    border-radius: 6px;
    font-size: 12px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 6px;
    transition: all 0.2s;
    color: #383838;
    font-weight: 400;
    position: absolute;
    right: 24px;
}

.summary-action-btn:hover {
    background: #3284D6;
    border-color: #3284D6;
    color: white;
}

.summary-content {
    padding: 0px 16px 8px 16px;
    transition: all 0.3s ease;
}

/* 카드 레벨 요약: 기본적으로 숨김. JS에서 .visible 클래스로 노출 제어 */
.card-summary {
    display: none;
}

.card-summary.visible {
    display: block;
}

.summary-section.collapsed .summary-content {
    padding: 0 16px;
}

.summary-text {
    font-size: 14px;
    line-height: 1.8;
    color: #383838;
    background: white;
    padding: 16px;
    border-radius: 8px;
    /*border: 1px solid #e5e7eb;*/
    text-align: left;
    word-wrap: break-word;
    white-space: normal;
}

/* === 카드별 AI 요약 섹션 === */
.card-summary-section {
    margin-top: 12px;
    padding: 12px;
    background: #f8faff;
    border: 1px solid #e1e8f7;
    border-radius: 8px;
    transition: all 0.3s ease;
}

.card-summary-section .summary-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
}

.card-summary-section .summary-label {
    font-size: 12px;
    font-weight: 600;
    color: #4f46e5;
    display: flex;
    align-items: center;
    gap: 4px;
}

.card-summary-section .summary-status {
    font-size: 11px;
    color: #6b7280;
    display: flex;
    align-items: center;
    gap: 4px;
}

.card-summary-section .summary-content {
    font-size: 13px;
    line-height: 1.5;
    color: #374151;
}

/* 스켈레톤 라인 스타일 */
.skeleton-lines {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.skeleton-line {
    height: 12px;
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: skeleton-loading 1.5s infinite;
    border-radius: 4px;
}

.skeleton-line.short {
    width: 70%;
}

@keyframes skeleton-loading {
    0% {
        background-position: 200% 0;
    }

    100% {
        background-position: -200% 0;
    }
}

/* 요약 컨텐츠가 로드되었을 때 */
.card-summary-section .summary-content .actual-summary {
    animation: fadeInUp 0.4s ease-out;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* === 탭 네비게이션 (Light Blue Glassmorphism 디자인) === */
.tab-navigation {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, rgba(147, 197, 253, 0.08) 50%, rgba(255, 255, 255, 0.9) 100%);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border-bottom: 1px solid rgba(59, 130, 246, 0.12);
    position: sticky;
    position: -webkit-sticky;
    top: 0;
    width: 100%;
    z-index: 1000;
    flex-shrink: 0;
    box-shadow: 0 4px 32px rgba(59, 130, 246, 0.06), 0 2px 8px rgba(147, 197, 253, 0.1);
    min-height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    /* 패딩 제거하여 컨테이너 영역 동일하게 */
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 채팅 탭 활성화 시 탭 네비게이션은 그대로 유지 */

.tab-list {
    display: flex;
    margin: 0;
    padding: 0;
    gap: 20px;
    width: 100%;
    background: none;
    border-radius: 0;
    box-shadow: none;
    border: none;
}

.tab-button {
    background: transparent;
    border: none;
    padding: 12px 32px;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    font-size: 14px;
    color: #1e40af;
    border-radius: 12px;
    margin: 0;
    position: relative;
    white-space: nowrap;
    font-weight: 500;
    text-align: center;
    min-width: 0;
    letter-spacing: 0.025em;
    outline: none;
    -webkit-tap-highlight-color: transparent;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    -webkit-touch-callout: none;
    min-height: 44px;
    flex: 1;
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
}

.tab-button:hover {
    color: #1d4ed8;
    background: rgba(147, 197, 253, 0.25);
    box-shadow: 0 4px 16px rgba(59, 130, 246, 0.15);
    transform: translateY(-1px);
}

.tab-button.active {
    color: #ffffff !important;
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 50%, #1d4ed8 100%) !important;
    font-weight: 600;
    box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4), 0 4px 12px rgba(37, 99, 235, 0.3);
    transform: translateY(-1px);
    border: 1px solid rgba(255, 255, 255, 0.25);
}

.tab-button.active::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, transparent 50%, rgba(255, 255, 255, 0.08) 100%);
    border-radius: 12px;
    pointer-events: none;
}

.tab-count {
    background: linear-gradient(135deg, #64748b 0%, #475569 100%);
    color: #ffffff;
    width: 20px;
    height: 20px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 10px;
    font-size: 11px;
    font-weight: 700;
    padding: 0;
    min-width: 20px;
    text-align: center;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    transition: all 0.2s ease;
}

.tab-button.active .tab-count {
    background: rgba(255, 255, 255, 0.25);
    color: #ffffff;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
    border: 1px solid rgba(255, 255, 255, 0.3);
}

/* === 헤더 메타 정보 (우측 영역) - 제거됨 === */
.header-meta-container {
    display: none;
    /* 감정 분석이 요약 섹션으로 이동 */
}

.emotion-status {
    background: rgba(59, 130, 246, 0.08);
    border: 1px solid rgba(59, 130, 246, 0.2);
    padding: 4px 10px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    gap: 4px;
    font-size: 13px;
    color: #1e40af;
    font-weight: 500;
    white-space: nowrap;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    cursor: default;
}

.emotion-status:hover {
    background: rgba(59, 130, 246, 0.12);
    border-color: rgba(59, 130, 246, 0.3);
    transform: translateY(-1px);
}

.header-actions {
    display: flex;
    align-items: center;
    gap: 8px;
}

.header-action-btn {
    background: none;
    border: none;
    width: 32px;
    height: 32px;
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 16px;
    color: #6b7280;
    transition: all 0.2s ease;
    outline: none;
}

.header-action-btn:hover {
    background-color: #f3f4f6;
    color: #374151;
}

/* === 요약 탭 콘텐츠 스타일링 === */
.tab-content[data-tab="summary"] {
    padding: 0;
    /* Remove padding to fix gap */
}

#summaryContentTab {
    background: #ffffff;
    border-radius: 12px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    border: 1px solid #e5e7eb;
}

/* 중복된 요약 헤더 스타일 제거됨 - 상단에서 통합 관리 */

.summary-title {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 16px;
    font-weight: 600;
    color: #374151;
}

.summary-actions {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
}


.summary-action-btn {
    background: none;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    padding: 6px 12px;
    font-size: 12px;
    color: #6b7280;
    cursor: pointer;
    transition: all 0.2s ease;
}

.summary-action-btn:hover {
    background: #f9fafb;
    border-color: #9ca3af;
}

/* 요약 콘텐츠 스타일 */
.summary-content {
    padding: 20px;
}

.summary-text {
    line-height: 1.6;
    color: #374151;
}

/* === 탭 콘텐츠 영역 === */
.tab-content-area {
    flex: 1;
    display: flex;
    flex-direction: column;
    min-height: 0;
    position: relative;
    height: 100%;
    overflow-y: auto;
}

.tab-content {
    display: flex;
    /* 항상 flex로 유지 */
    flex-direction: column;
    padding: 16px 20px;
    padding-bottom: 20px;
    /* 하단 여백 대폭 줄임 (60px → 20px) */
    overflow-y: auto;
    /* 세로 스크롤 허용 */
    flex: 1;
    min-height: 0;
    /* 플렉스 아이템이 축소될 수 있도록 */
    max-height: 100%;
    /* 상위 컨테이너 높이 제한 */
    box-sizing: border-box;
    /* 패딩 포함 높이 계산 */
    visibility: hidden;
    /* 기본적으로 숨김 */
    position: absolute;
    /* 레이아웃에서 제외 */
    width: 100%;
    left: 0;
    top: 0;
    transition: none !important;
    /* 모든 애니메이션 비활성화 */
    transform: none !important;
    /* 변형 비활성화 */
}

.tab-content.active {
    visibility: visible;
    /* 활성 탭만 표시 */
    position: relative;
    /* 레이아웃에 포함 */
    transition: none !important;
    /* 활성 상태에서도 애니메이션 비활성화 */
    transform: none !important;
    /* 변형 비활성화 */
}

/* === 탭별 전용 스타일 === */

/* 콘텐츠 탭 (유사티켓, KB문서) - 읽기 편의성을 위한 여백 */
.tab-content[data-tab="tickets"],
.tab-content[data-tab="kb"] {
    padding: 0 !important;
    background-color: white !important;
}

/* 채팅 탭 - 화면 공간 최대화 및 회색 박스 방지 (통합) */
.tab-content[data-tab="copilot"] {
    padding: 0 !important;
    background: white !important;
    /* body의 회색 배경 차단 */
}

.tab-content[data-tab="copilot"].active {
    padding: 0 !important;
    background: white !important;
    /* height, flex, and overflow properties removed to allow dynamic sizing */
    position: relative !important;
}

/* === 인사이트 패널 === */
.insight-panel {
    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
    border: 1px solid #f59e0b;
    border-radius: 8px;
    padding: 12px 16px;
    margin-bottom: 16px;
    flex-shrink: 0;
}

.insight-title {
    font-size: 12px;
    font-weight: 600;
    color: #92400e;
    margin-bottom: 8px;
    display: flex;
    align-items: center;
    gap: 6px;
}

.insight-content {
    font-size: 11px;
    color: #92400e;
    line-height: 1.4;
}

.insight-item {
    margin-bottom: 6px;
    padding: 4px 0;
    border-bottom: 1px solid rgba(245, 158, 11, 0.2);
}

.insight-item:last-child {
    border-bottom: none;
    margin-bottom: 0;
}

.insight-item strong {
    color: #78350f;
    font-weight: 600;
}

/* 콘텐츠 컨테이너 높이 통일 (모든 탭 동일) */
#similarTicketsContainer,
#kbDocumentsContainer {
    min-height: auto;
    padding: 20px;
    /* Add padding for content */
    box-sizing: border-box;
    background-color: white !important;
}

.header-insight {
    font-size: 13px;
    font-weight: 500;
    color: #1e40af;
    text-align: center;
    width: 100%;
}

/* Copilot 채팅 컨테이너 중복 정의 제거 - chat.css에서 관리 */

/* chat-container는 chat.css에서 별도 관리 */

/* === 스크롤바 스타일 === */
.app-main::-webkit-scrollbar {
    width: 4px;
}

.app-main::-webkit-scrollbar-track {
    background: #f1f5f9;
}

.app-main::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 12px;
}

.app-main::-webkit-scrollbar-thumb:hover {
    background: #94a3b8;
}

/* === 하단 푸터 === */
.app-footer {
    background: #f8fafc;
    border-top: 1px solid #e5e7eb;
    position: relative;
    /* 고정 위치 제거 - 콘텐츠 하단에 자연스럽게 배치 */
    width: 100%;
    max-width: 900px;
    margin: 0px auto 0 auto;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.feedback-section {
    padding: 8px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #e5e7eb;
}

.feedback-question {
    font-size: 12px;
    color: #6b7280;
}

.feedback-actions {
    display: flex;
    gap: 8px;
}

.feedback-btn {
    background: white;
    border: 1px solid #e5e7eb;
    padding: 6px 12px;
    border-radius: 6px;
    font-size: 12px;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    gap: 4px;
    color: #383838;
    font-weight: 400;
}

.feedback-btn:hover {
    background: #3284D6;
    border-color: #3284D6;
    color: white;
}

.feedback-btn.thumbs-up:hover {
    background: #3284D6;
    border-color: #3284D6;
    color: white;
}

.feedback-btn.thumbs-down:hover {
    background: #383838;
    border-color: #383838;
    color: white;
}

/* === 언어 토글 버튼 === */
.language-toggle-btn {
    background: white;
    border: 1px solid #e5e7eb;
    padding: 6px 8px;
    border-radius: 6px;
    font-size: 12px;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    gap: 4px;
    min-width: 52px;
    justify-content: center;
    font-weight: 500;
    color: #6b7280;
}

.language-toggle-btn:hover {
    background: #f3f4f6;
    border-color: #d1d5db;
    color: #374151;
    transform: translateY(-1px);
}

.language-toggle-btn:active {
    transform: translateY(0);
    background: #e5e7eb;
}

#currentLanguageCode {
    font-weight: 600;
    font-size: 11px;
    letter-spacing: 0.5px;
}

/* === 반응형 === */
@media (max-width: 768px) {
    .app-container {
        padding: 0;
    }

    .app-header {
        margin-right: 0;
        max-width: 100%;
    }

    .app-main {
        max-width: 100%;
        border-radius: 0;
        border-left: none;
    }

    .header-meta {
        flex-direction: column;
        gap: 8px;
    }

    /* 모바일 탭 네비게이션 최적화 */
    .tab-navigation {
        /*padding: 4px 16px;*/
        min-height: 36px;
    }

    .tab-list {
        gap: 12px;
        padding: 6px;
    }

    .tab-button {
        padding: 10px 20px;
        font-size: 13px;
        gap: 6px;
        min-height: 32px;
    }

    .tab-count {
        width: 18px;
        height: 18px;
        font-size: 10px;
        border-radius: 9px;
    }

    .emotion-status {
        padding: 6px 12px;
        font-size: 12px;
        min-height: 28px;
        border-radius: 8px;
    }

    .header-meta-container {
        gap: 12px;
        margin-left: 12px;
    }
}

/* === 감정 분석 스타일 === */
.sentiment-positive {
    color: #22C55E !important;
    font-weight: 500;
}

.sentiment-negative {
    color: #EF4444 !important;
    font-weight: 500;
}

.sentiment-neutral {
    color: #6B7280 !important;
    font-weight: 500;
}

/* === 구형 토글 버튼 스타일 제거됨 (Apple 스타일로 대체) === */

/* 반응형: 모바일에서 통합 레이아웃 조정 */
@media (max-width: 768px) {
    .summary-unified-row {
        flex-direction: column;
        gap: 12px;
        padding: 12px 16px;
        align-items: center;
    }

    .summary-unified-row .emotion-status {
        font-size: 12px;
        min-width: 100px;
        max-width: 200px;
        padding: 8px 12px;
        order: 1;
        /* 첫 번째 */
    }

    .summary-unified-row .toggle-labels {
        max-width: 100%;
        gap: 12px;
        font-size: 12px;
        order: 2;
        /* 두 번째 */
        flex: none;
        /* 모바일에서는 flex 없음 */
        margin: 0;
        /* 모바일에서는 마진 없음 */
    }

    .summary-unified-row .summary-copy-action {
        order: 3;
        /* 세 번째 */
    }

    .summary-unified-row .summary-copy-action .card-btn {
        min-width: 100px;
        max-width: 200px;
        padding: 8px 12px;
        font-size: 12px;
    }
}

/* 기존 토글 컨테이너 모바일 조정 */
.summary-toggle-container {
    gap: 12px;
    padding: 0 16px;
    /* 모바일에서 패딩 조정 */
}

.toggle-labels {
    width: 100%;
    /* 전체 너비 사용 */
    gap: 12px;
    /* 간격 조정 */
    font-size: 12px;
}

.apple-toggle-switch,
.apple-chat-toggle {
    width: 48px !important;
    height: 26px !important;
}

.toggle-slider,
.chat-toggle-slider {
    width: 22px !important;
    height: 22px !important;
    top: 2px !important;
}

.apple-toggle-switch.temporal .toggle-slider,
.apple-chat-toggle.general .chat-toggle-slider {
    transform: translateX(22px) !important;
}

/* 채팅 토글 모바일 조정 */
.chat-toggle-labels {
    width: 110px;
    font-size: 12px;
}

.apple-chat-toggle {
    width: 42px;
    height: 24px;
}

.chat-toggle-slider {
    width: 20px;
    height: 20px;
}

.apple-chat-toggle.general .chat-toggle-slider {
    transform: translateX(18px);
}

/* === 알림 배너 === */
.notification-banner {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 1001;
    transform: translateY(100%);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
}

.notification-banner:not(.hidden) {
    transform: translateY(0);
}

.notification-banner.hidden {
    transform: translateY(100%);
}

.banner-content {
    background: rgba(248, 249, 250, 0.95);
    border-top: 2px solid #e5e7eb;
    padding: 8px 16px;
    display: flex;
    align-items: center;
    gap: 12px;
    box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.08);
    min-height: 36px;
    position: relative;
    overflow: hidden;
    width: 100%;
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
}

.banner-content::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    animation: shimmer 3s infinite;
}

@keyframes shimmer {
    0% {
        left: -100%;
    }

    100% {
        left: 100%;
    }
}

.notification-banner:not(.hidden) .banner-icon {
    animation: bounce 0.6s ease-out;
}

@keyframes bounce {

    0%,
    20%,
    53%,
    80%,
    100% {
        transform: translate3d(0, 0, 0);
    }

    40%,
    43% {
        transform: translate3d(0, -8px, 0);
    }

    70% {
        transform: translate3d(0, -4px, 0);
    }

    90% {
        transform: translate3d(0, -2px, 0);
    }
}

.banner-icon {
    font-size: 16px;
    flex-shrink: 0;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.banner-message {
    flex: 1;
    font-size: 13px;
    font-weight: 400;
    color: #374151;
    line-height: 1.3;
}

.banner-close {
    background: none;
    border: none;
    font-size: 14px;
    color: #9ca3af;
    cursor: pointer;
    padding: 4px;
    border-radius: 4px;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    flex-shrink: 0;
}

.banner-close:hover {
    background: rgba(107, 114, 128, 0.1);
    color: #6b7280;
}

/* 배너 타입별 스타일 */
.notification-banner.success .banner-content {
    background: linear-gradient(135deg, #ecfdf5 0%, #f0fdf4 100%);
    border-top-color: #10b981;
}

.notification-banner.success .banner-icon {
    color: #10b981;
    background: rgba(16, 185, 129, 0.1);
    box-shadow: 0 2px 12px rgba(16, 185, 129, 0.2);
}

.notification-banner.warning .banner-content {
    background: linear-gradient(135deg, #fffbeb 0%, #fefce8 100%);
    border-top-color: #f59e0b;
}

.notification-banner.warning .banner-icon {
    color: #f59e0b;
    background: rgba(245, 158, 11, 0.1);
    box-shadow: 0 2px 12px rgba(245, 158, 11, 0.2);
}

.notification-banner.error .banner-content {
    background: linear-gradient(135deg, #fef2f2 0%, #fecaca 100%);
    border-top-color: #ef4444;
}

.notification-banner.error .banner-icon {
    color: #ef4444;
    background: rgba(239, 68, 68, 0.1);
    box-shadow: 0 2px 12px rgba(239, 68, 68, 0.2);
}

.notification-banner.info .banner-content {
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
    border-top-color: #3b82f6;
}

.notification-banner.info .banner-icon {
    color: #3b82f6;
    background: rgba(59, 130, 246, 0.1);
    box-shadow: 0 2px 12px rgba(59, 130, 246, 0.2);
}

/* === 삭제 확인 UI === */
.delete-confirm-overlay {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 10000;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: flex-end;
    justify-content: center;
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
}

.delete-confirm-section {
    width: 100%;
    background: linear-gradient(135deg, #fef2f2 0%, #fecaca 100%);
    border-top: 3px solid #ef4444;
    padding: 12px 16px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
    box-shadow: 0 -4px 12px rgba(239, 68, 68, 0.15);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    animation: slideUpFromBottom 0.3s ease-out;
}

@keyframes slideUpFromBottom {
    from {
        transform: translateY(100%);
        opacity: 0;
    }

    to {
        transform: translateY(0);
        opacity: 1;
    }
}

.confirm-message {
    flex: 1;
    min-width: 0;
}

.confirm-title {
    font-size: 14px;
    font-weight: 600;
    color: #dc2626;
    margin-bottom: 4px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.confirm-details {
    font-size: 12px;
    color: #7f1d1d;
    line-height: 1.4;
    opacity: 0.9;
}

.confirm-actions {
    display: flex;
    gap: 8px;
    flex-shrink: 0;
}

.confirm-btn {
    padding: 8px 16px;
    border: none;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    min-width: 60px;
}

.yes-btn {
    background: #dc2626;
    color: white;
}

.yes-btn:hover {
    background: #b91c1c;
    transform: translateY(-1px);
}

.no-btn {
    background: rgba(107, 114, 128, 0.1);
    color: #374151;
    border: 1px solid #d1d5db;
}

.no-btn:hover {
    background: rgba(107, 114, 128, 0.15);
    border-color: #9ca3af;
}
---
name: 메타-프롬프트-생성기
description: 간단한 설명을 받아 단계별 병렬 처리가 가능한 구조화된 커스텀 슬래시 커맨드를 자동으로 생성합니다. 프롬프트 생성, 워크플로우 설계, 테스트 스위트 작성이 필요할 때 사용하세요.
---

## Metadata

name: 메타 프롬프트 생성기
description: 간단한 상위 수준 설명을 받아 단계별 병렬 처리가 최적화된 구조화된 커스텀 슬래시 커맨드를 자동으로 생성합니다
version: 1.0.0

## Overview


이 스킬은 사용자의 상위 수준 요청을 받아 체계적이고 병렬 처리가 최적화된 커스텀 슬래시 커맨드(프롬프트)를 자동으로 생성합니다. 생성된 프롬프트는 단계 기반 워크플로우, 종속성 관리, 병렬 실행 전략, 포괄적인 테스트 스위트를 포함합니다.

Claude는 다음과 같은 경우에 이 스킬을 사용해야 합니다:

- 사용자가 복잡한 프로젝트를 위한 구조화된 워크플로우를 요청할 때
- 재사용 가능한 커스텀 프롬프트나 슬래시 커맨드 생성을 요청할 때
- 병렬 처리 최적화가 필요한 작업 계획을 요청할 때
- 체계적인 테스트가 포함된 프롬프트를 요청할 때

## 핵심 기능

### 1. 지능형 지식 수집

- 모델의 지식 차단 날짜 이후의 주제에 대해 자동으로 웹 검색
- 주제당 3개의 병렬 서브 에이전트를 사용하여 지식 수집
- 출처 인용 및 검증된 정보 통합

### 2. 단계 기반 워크플로우 설계

- 작업을 논리적 단계(Phase)로 구조화
- 각 단계의 종속성을 명확히 정의
- 독립적인 작업은 병렬로, 종속적인 작업은 순차적으로 실행
- `Task` 도구를 활용한 병렬 처리 전략 수립

### 3. 포괄적인 테스트 생성

- 단위 테스트, 통합 테스트, 종단 간 테스트 자동 생성
- 각 테스트의 병렬 실행 가능 여부 식별
- 엣지 케이스 및 검증 명령 포함

### 4. 최적화된 실행 전략

- 병렬 실행 가능한 작업 자동 식별
- 서브 에이전트 생성 전략 제공
- 실행 모드(순차/병렬/혼합) 명시

## 워크플로우

사용자가 상위 수준의 요청을 제공하면:

1. **컨텍스트 수집** (병렬)

   - 알려지지 않은 주제에 대해 3개의 병렬 서브 에이전트로 웹 검색
   - 관련 문서 병렬 수집

2. **요구사항 명확화** (순차, 사용자 상호작용)

   - 부족한 정보가 있으면 한 번에 하나씩 질문
   - 모든 필요 정보가 수집될 때까지 반복

3. **프롬프트 구조 설계** (순차)

   - 병렬화 가능한 작업 영역 분석
   - 단계별 종속성 결정
   - 서브 에이전트 전략 계획

4. **콘텐츠 생성** (순차)

   - 지정된 형식에 맞춰 모든 섹션 작성
   - 검색된 지식 통합
   - 구조 검증

5. **저장 및 보고** (순차)
   - `.claude/commands/<프롬프트_이름>.md`에 저장
   - 생성된 프롬프트 요약 보고

## 생성되는 프롬프트 구조

생성된 커스텀 슬래시 커맨드는 다음 섹션을 포함합니다:

```markdown
---
allowed-tools: <도구 목록>
description: <프롬프트 설명>
argument-hint: [<인수 힌트>]
model: sonnet
---

# <프롬프트 이름>

## 변수

- 동적 변수 ($1, $2, ...) 정의
- 정적 변수 정의

## 지침

- 실행 규칙 및 제약사항
- 엣지 케이스 처리 방법
- 중요 요구사항
- **프로젝트 타입별 검증 요구사항**:
  - Flutter: `flutter analyze`를 실행하여 모든 에러(error) 해결 (warning/info는 선택)
  - React/Next.js: `pnpm build` (또는 `npm run build`) 실행하여 빌드 성공 확인
  - 기타 프레임워크: 해당 프레임워크의 정적 분석 도구 및 빌드 명령 실행

## 코드베이스 구조 (코드 관련 시)

- ASCII 디렉토리 트리
- 각 파일/디렉토리 목적 설명

## 워크플로우

### 단계 1-N: <단계 이름>

**종속성:** <종속 단계>
**실행 모드:** 순차적 | 병렬 | 혼합
**서브 에이전트 전략:** <전략 설명>

#### 단계별 작업 항목

- 구체적인 작업 내용
- 조건부 로직

**병렬 실행:** <병렬 실행 가능 여부 및 방법>

---

### 최종 단계: 검증 및 품질 보증

**종속성:** 모든 이전 단계
**실행 모드:** 순차적

#### 프로젝트 타입별 필수 검증

1. **Flutter 프로젝트**
   - `flutter analyze` 실행하여 모든 에러 해결
   - 에러가 0개가 될 때까지 수정 반복
   - (선택) `flutter build apk --debug`로 빌드 확인

2. **React/Next.js 프로젝트**
   - `pnpm build` (또는 `npm run build`) 실행
   - 빌드가 성공할 때까지 에러 수정
   - (선택) `pnpm lint`로 코드 품질 확인

3. **기타 프레임워크**
   - 해당 프레임워크의 정적 분석 도구 실행
   - 빌드 명령 실행하여 성공 확인

**병렬 실행:** 불가 (순차적 검증 필수)

---

## 테스트 스위트 생성

### 단위 테스트

- 구성 요소별 테스트
- 병렬 실행 전략

### 통합 테스트

- 상호작용 테스트
- 종속성 명시

### 종단 간 테스트

- 사용자 흐름 테스트

### 엣지 케이스

- 예외 상황 처리

### 검증 명령

- 실행 가능한 검증 명령어
- **프로젝트 타입별 필수 검증**:
  - **Flutter 프로젝트**:
    ```bash
    flutter analyze  # 모든 에러 해결 필수
    flutter test     # 테스트 실행
    flutter build apk --debug  # 빌드 검증 (선택)
    ```
  - **React/Next.js 프로젝트**:
    ```bash
    pnpm build       # 또는 npm run build - 빌드 성공 필수
    pnpm test        # 테스트 실행
    pnpm lint        # 린트 검사
    ```
  - **기타 프레임워크**: 해당 프레임워크의 표준 검증 도구 사용

### 최종 품질 보증

#### 완료 기준 (프로젝트 타입별)

**Flutter 프로젝트:**
- [ ] `flutter analyze` 실행 시 에러(error) 0개
- [ ] 모든 단위 테스트 통과
- [ ] 코드 생성 완료 (build_runner 등)
- [ ] (선택) `flutter build` 성공

**React/Next.js 프로젝트:**
- [ ] `pnpm build` (또는 `npm run build`) 성공
- [ ] 모든 테스트 통과
- [ ] TypeScript 에러 0개
- [ ] 린트 에러 0개 (또는 최소화)

**공통 검증 체크리스트:**
- [ ] 모든 파일이 올바른 위치에 생성됨
- [ ] 의존성이 올바르게 설치됨
- [ ] 문서화 완료 (README 등)
- [ ] 버전 관리 준비 완료 (.gitignore 등)

## 최종 결과물

- 구체적인 산출물 명시

## 보고서

- 사용자에게 보고할 내용
```

## 사용 예시

### 예시 1: React 앱 생성

```
사용자: "React와 TypeScript로 TODO 앱을 만들어줘"

스킬 동작:
1. React, TypeScript 최신 정보 검색 (병렬)
2. 필요한 세부사항 질문 (UI 디자인, 상태 관리 방식 등)
3. 단계별 워크플로우 설계:
   - 단계 1: 프로젝트 설정
   - 단계 2-4: UI 컴포넌트, 상태 관리, API (병렬)
   - 단계 5: 통합
   - 단계 6: 테스트 (병렬)
4. 완전한 프롬프트를 .claude/commands/react-todo-app.md에 저장
```

### 예시 2: 데이터 분석 파이프라인

```
사용자: "CSV 파일을 읽어서 분석하고 시각화하는 파이프라인 만들어줘"

스킬 동작:
1. 데이터 분석 라이브러리 최신 정보 검색
2. 데이터 형식, 분석 목표 등 질문
3. 병렬 처리 최적화된 워크플로우:
   - 데이터 로드, 정제, 분석을 독립 단계로 분리
   - 각 시각화를 병렬로 생성
   - 테스트를 병렬로 실행
4. 프롬프트 저장 및 보고
```

## 주요 용어

- **`Task` 도구**: 병렬 서브 에이전트를 생성하는 Claude Code 도구
- **작업 항목/단계**: 단계 내의 개별 작업
- **종속성**: 어떤 단계가 먼저 완료되어야 하는지
- **실행 모드**: 순차적/병렬/혼합 실행 방식
- **서브 에이전트 전략**: 어떤 작업을 서브 에이전트에 위임할지

## 병렬 처리 최적화 원칙

### Task 도구를 사용해야 하는 경우:

- 작업 간 종속성이 없을 때
- 동시 실행이 가능할 때
- 각 작업이 독립적일 때

예: "백엔드 API, 프론트엔드 UI, 데이터베이스 스키마를 3개의 병렬 서브 에이전트로 처리"

### 메인 컨텍스트에서 실행해야 하는 경우:

- 이전 서브 에이전트 결과를 통합해야 할 때
- 순차적 종속성이 있을 때
- 조정이나 상태 공유가 필요할 때

예: "단계 2, 3의 결과를 수집한 후 메인 컨텍스트에서 통합"

## 모범 사례

1. **명확한 설명 제공**: 상위 프롬프트에 가능한 한 구체적인 정보 포함
2. **점진적 개선**: 생성된 프롬프트를 테스트하고 필요시 수정
3. **버전 관리**: 생성된 프롬프트를 버전 관리 시스템에 포함
4. **재사용**: 유사한 작업에 생성된 프롬프트 재활용
5. **문서화**: 생성된 프롬프트의 목적과 사용법 문서화
6. **철저한 검증**:
   - Flutter: `flutter analyze`로 에러 0개 달성
   - React/Next.js: `pnpm build` 성공 확인
   - 프레임워크별 표준 검증 도구 활용
   - 검증 실패 시 원인 분석 및 수정 후 재검증

## 제한사항

- 매우 복잡한 프롬프트의 경우 수동 조정이 필요할 수 있음
- 생성된 프롬프트는 시작점이며, 프로젝트에 맞게 커스터마이징 권장
- 모델의 지식 차단 날짜 이후 정보는 웹 검색에 의존

## 추가 참고사항

- 생성된 프롬프트는 Claude Code의 슬래시 커맨드로 사용 가능
- 프롬프트 내에서 `Task` 도구를 활용하여 실제 병렬 실행 구현
- 테스트 스위트는 실제로 실행 가능한 명령어 포함
- 모든 단계는 명확한 입력/출력과 성공 기준 정의

이 스킬을 통해 복잡한 작업도 체계적이고 효율적으로 자동화할 수 있습니다.

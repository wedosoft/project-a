---
applyTo: '**'
---
# 📚 공통 개발 지침 (We Do Soft Inc.)

## 💼 프로젝트 배경
- 소규모 SaaS 전## 📂 파일 및 버전 관리 지침 (2025.06.03)

### ✅ 파일명 관리 원칙
- **원본 파일명 유지**: 새로운 기능 구현 시 원래 파일명을 유지하고, 기존 파일을 적절히 리네이밍
- **임시 접두사 금지**: `enhanced_`, `fixed_`, `new_`, `temp_` 등의 접두사로 파일을 계속 생성 금지
- **백업 파일명 규칙**: 기존 파일 백업 시 `원본파일명_legacy.확장자` 또는 `원본파일명_backup_YYYYMMDD.확장자` 형식 사용
- **테스트 파일 관리**: 무분별한 테스트 파일 생성 자제, 필요한 경우 `tests/` 디렉토리 활용, 일회성 테스트는 프로젝트 완료 후 정리

### ✅ 파일 생성 및 수정 워크플로우
1. **기존 파일 확인**: 새 파일 생성 전 반드시 기존 파일들과의 관계 및 중복성 확인
2. **사전 컨펌**: 파일 생성/수정 전 사용자에게 접근 방식에 대한 컨펌 요청
3. **백업 우선**: 기존 파일 수정 시 백업 생성 후 진행
4. **통합 우선**: 여러 파일로 분산된 기능이 있다면 통합 방향으로 진행

### ✅ 엄격한 사전 컨펌 원칙 (2025.06.09 추가)
- **제안과 실행의 분리**: 어떤 제안을 할 때는 파일 생성/수정 없이 **제안만** 먼저 제시
- **명시적 컨펌 대기**: 사용자의 명확한 승인("진행해주세요", "만들어주세요" 등) 확인 후 파일 작업 진행
- **도구 사용 금지**: 제안 단계에서는 `create_file`, `insert_edit_into_file`, `replace_string_in_file` 등 파일 조작 도구 사용 금지
- **예외 상황**: 사용자가 직접 "파일을 만들어 달라"고 명시적으로 요청한 경우에만 즉시 실행
- **제안 형식**: "다음과 같은 파일을 생성하고자 합니다. 진행해도 될까요?" 형태로 명확히 컨펌 요청

### ✅ 작업 중단 및 중간 컨펌 원칙 (2025.06.12 추가)
- **긴 작업의 사전 분할**: 예상 소요시간이 5분 이상이거나 5개 이상의 파일 수정이 필요한 경우 작업을 단계별로 분할
- **단계별 진행**: 각 단계마다 다음과 같은 정보를 포함하여 사용자에게 보고
  - 현재까지 완료된 작업 내용
  - 다음 단계에서 수행할 작업 계획
  - 전체 진행률 (예: "3/7 단계 완료 (약 43%)")
- **명시적 컨펌 요청**: 각 단계 완료 후 "다음 단계를 진행해도 될까요?" 형태로 사용자 승인 대기
- **일시 중지 옵션**: 사용자가 언제든 작업을 중단하고 검토할 수 있도록 안내
- **작업 재개 지원**: 중단된 작업의 정확한 지점에서 재개할 수 있도록 상태 정보 유지
- **예외 상황**: 사용자가 "연속으로 진행해주세요" 또는 "끝까지 완료해주세요"라고 명시한 경우에만 중간 컨펌 생략

### ✅ Git 저장소 관리
- **`.gitignore` 관리**: 데이터 디렉토리는 구체적 경로로 제외 (`backend/freshdesk_full_data/`)
- **원격 저장소 동기화**: 새로운 시스템 구현 시 반드시 원격 저장소에 푸시
- **브랜치 전략**: 대규모 변경사항은 별도 브랜치에서 작업 후 통합

### ✅ 시스템 통합 지침
- **기존 워크플로우 호환성**: 새 시스템 구현 시 기존 CLI 인자 및 VS Code 태스크 호환성 유지
- **점진적 마이그레이션**: 한 번에 모든 것을 바꾸지 않고 단계적으로 개선
- **문서화 우선**: 새로운 시스템 도입 시 상세한 가이드 문서 작성

## 🧾 문서 작성 톤 & 커뮤니케이션
- 반말 금지, 항상 정중한 존댓말 사용
- 명확한 근거 기반으로 설명하고, 불확실한 경우는 확인 요청할 것
- "진행 전 컨펌 받기"가 원칙이며, 실험적 접근이라도 반드시 배경 설명 포함
- 모든 대화와 문서는 항상 한국어로 작성할 것.
- 프로그램 내부의 텍스트와 주석은 항상 한글로 작성할 것.웹 자산 및 AI 기반 고객지원 솔루션 구축을 목표로 함
- **GitHub Organization**: `wedosoft` (모든 프로젝트 저장소의 소유자)
- 병행 운영 중인 핵심 프로젝트:
  1. 홈페이지 리뉴얼 (www.wedosoft.net) - WordPress/Kadence 기반
  2. 문서 포털 구축 (docs.wedosoft.net) - Docusaurus 기반
  3. 고객센터 리뉴얼 (support.wedosoft.net) - Freshdesk 커스터마이징
  4. Freshdesk Custom App (Prompt Canvas) - 블록 기반 LLM 응답 에디터

## 🧠 사용 도구 및 작성 원칙
- GPT-4-1, Claude 3.7 Sonnet, GitHub Copilot을 적극 활용하되 지시문 컨텍스트 충실히 반영
- 주석은 영어로, 문장은 사용자 중심의 실용적인 톤으로
- 마크다운 문서는 구조적이며 예제 기반
- 모든 작업은 명확한 목적과 배경 설명이 포함되어야 함

## 🧩 프로젝트별 지침

### 📌 1. 홈페이지 (www.wedosoft.net)
- 콘텐츠 중심: 신뢰성, 기술 전문성 강조
- 코드 직접 작성은 최소화, WordPress 컨설팅 중심
- Anthropic 스타일 벤치마크

### 📘 2. 문서 포털 (docs.wedosoft.net)
- Docusaurus 기반 문서 → RAG 연계 고려
- 친근하지만 신뢰감 있는 설명 + 예제 중심
- 기술 문서는 실무 중심으로 재구성

### 🎧 3. 고객센터 (support.wedosoft.net)
- Freshdesk 기반 포털, KB 구조 재설계
- 온보딩 관점으로 문서 리라이팅
- 제품 > 카테고리 > 폴더 > 문서 구조 유지

### 🧱 4. Prompt Canvas (Freshdesk Custom App)
- BlockNote 에디터 사용
- LLM 호출 시 맥락 중심으로 프롬프트 구성
- AI 개선 버튼, 이미지 블록 등 구현 포함

## ✅ Node.js 버전 및 가상환경 운영 지침 (2025.05.18)
- 프로젝트별 Node.js 버전 충돌 방지 및 FDK(Freshdesk Developer Kit) 등 특수 목적 Node.js 환경 보존을 위해, **글로벌 Node.js 변경 없이 nvm(Node Version Manager) 또는 volta 등 가상환경 도구 사용을 원칙으로 한다.**
- 프로젝트 내 `.nvmrc` 파일을 활용하여, 개발자는 각 프로젝트에서 요구하는 Node.js 버전을 명확히 지정하고, 다음과 같이 사용한다.

## nvm 사용 예시
1. nvm 설치 (최초 1회)
   ```sh
   curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash
   ```
2. 프로젝트별 Node.js 버전 지정 및 적용
   ```sh
   nvm install --lts
   nvm use --lts
   node -v > .nvmrc
   ```
3. 터미널 진입 시 자동 적용
   - `.nvmrc`가 있는 디렉터리에서 `nvm use` 실행

## 추가 원칙
- FDK 등 특정 Node.js 버전이 필요한 글로벌 환경은 **절대 변경하지 않는다.**
- Node.js 버전 변경이 필요한 경우, 반드시 `.nvmrc` 등 가상환경 파일을 통해 프로젝트별로만 적용한다.
- 글로벌 Node.js 변경 또는 시스템 전체에 영향을 주는 설치는 반드시 사전 컨펌을 받고, 대안(가상환경 활용)을 함께 안내한다.
- 위 원칙은 macOS, Linux, Windows(WSL 포함) 환경 모두에 적용한다.

---

## 🧪 기술 스택 및 운영 환경

### ✅ 가상환경 원칙
- **모든 Python 패키지, Node 모듈, 시스템 의존성은 프로젝트별 가상환경에서 설치할 것**
- 로컬 시스템(Global)에 설치가 필요한 경우 반드시 사용자에게 **사전 컨펌을 받고**,  
  설치 이유와 대안을 함께 설명할 것
- 의존성 충돌 및 버전 충돌을 방지하는 것을 **원칙으로 한다**

### ✅ 백엔드 개발 환경
- 백엔드는 기본적으로 **Docker 컨테이너에서 실행**
- **Python 3.10**을 기준으로 환경 구성
- Dockerfile, requirements.txt는 반드시 명시적 버전 지정 포함

## 🧾 문서 작성 톤 & 커뮤니케이션
- 반말 금지, 항상 정중한 존댓말 사용
- 명확한 근거 기반으로 설명하고, 불확실한 경우는 확인 요청할 것
- “진행 전 컨펌 받기”가 원칙이며, 실험적 접근이라도 반드시 배경 설명 포함
- 모든 대화와 문서는 항상 한국어로 작성할 것.
- 프로그램 내부의 텍스트와 주석은 항상 한글로 작성할 것.
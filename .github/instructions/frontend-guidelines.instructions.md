---
applyTo: "**"
---

# 🧩 자연어 기반 상담사 지원 시스템 프론트엔드 UX 설계 지침

본 문서는 Freshdesk Custom App의 자연어 기반 AI 응답 지원 시스템에 대한 프론트엔드 기능 기획 초안을 정리한 것입니다. 주요 인터페이스 영역, 동작 조건, 상호작용 흐름을 정의합니다.

## 🎯 목적

Freshdesk Custom App에서 상담사가 자연어로 질문/요청을 할 수 있도록 지원하고, AI가 유사 티켓·추천 솔루션·이미지·첨부파일을 자동으로 추천·검색·삽입할 수 있게 합니다. 자연스러운 작업 흐름과 높은 상담사 UX를 목표로 합니다.

---

## 🧩 프론트 설계 원칙

- 모든 API 호출은 **명시적 트리거**만 허용 (자동 요청 최소화)
- 상태관리는 `Zustand` 또는 React Context로 전역 관리
- 영역 간 데이터 공유는 store를 통한 lazy-load 방식
- 직관적이고 간결한 UI로 자연어 명령 입력의 심리적 장벽 최소화
- 백엔드 API 응답 포맷은 이해하기 쉬운 구조로 (`text`, `actions`, `suggestions`, `resources` 등)
- 응답 처리 상태를 시각적으로 명확하게 표시 (로딩, 오류, 완료 등)
- 초기 데이터는 프론트에서 **로컬 캐싱** 처리하여 사용자 경험 최적화

---

## 📐 전체 구조

2개의 주요 영역 구성:

1. **상단: 티켓 요약 카드**
2. **하단: 3가지 탭 영역**
   - 유사 티켓 탭
   - 추천 솔루션 탭
   - OO와 대화하기 탭

> 프론트는 백엔드가 필요한 데이터를 "충분히 준비된 이후" 호출됨. 각 기능은 명시적 사용자 액션에 따라 비동기적으로 백엔드 API를 호출한다.

---

## 🧾 주요 영역 기능 정의

### 1. 상단: 티켓 요약 카드

- 목적: 상담사가 전체 티켓 상황을 빠르게 이해
- 호출 시점: 최초 로딩 시 `/init` 호출 (1회)
- 캐싱: `localStorage` 또는 메모리 캐시 활용
- UX 요소:
  - 문제 / 원인 / 조치 / 결과 정보 표시

---

### 2. 중단: 3가지 탭 영역

#### 2-1. 유사 티켓 탭

- `/init` 호출로 자동 로딩, 내부적으로 /similar_tickets 호출, 페이지네이션 지원
- 유사 티켓 목록 표시 (제목, 상태, 해결 방법 요약 등)
- 클릭 시 상세 정보 모달 또는 확장 패널로 표시
- 유용한 응답 선택 시 답변 에디터에 자동 삽입 기능

#### 2-2. 추천 솔루션 탭

- `/init` 호출로 자동 로딩, 내부적으로 /related_docs 호출, 페이지네이션 지원
- 추천 솔루션 또는 지식베이스 문서 목록
- 제목, 카테고리, 관련도 점수 표시
- 내용 미리보기 및 답변 에디터에 삽입 기능

#### 2-3. OO와 대화하기 탭

- 자연어 입력창 (placeholder: "질문을 입력하세요...")
- "검색할 콘텐츠" 체크박스:
  - ✅ 티켓 / ✅ 솔루션 / ✅ 이미지 / ✅ 첨부파일
- "검색" 버튼 클릭 시 `/query` 호출
- 검색 결과를 동일 탭 내에서 대화형 UI로 표시
- 응답 결과 내에서 직접 '티켓 응답으로 등록' 기능 제공

---

### 2-3. OO와 대화하기 탭 (계속)

- 자연어 요청에 대한 응답은 대화하기 탭 내에서 직접 표시
- 응답 형식:
  - 질문과 답변을 대화형 UI로 표시
  - 유용한 정보는 카드 형태로 구성
  - 검색 결과는 리스트/그리드 형태로 표시
- 공유 및 피드백 기능:
  - 응답 내용 복사 버튼
  - 티켓에 응답 첨부 버튼 (바로 티켓 응답으로 등록)
  - 좋아요/싫어요 피드백 버튼

---

## 🔍 프론트 요청 흐름

### 페이지 최초 로드

- `/init` API 호출 → 요약/유사 티켓/추천 솔루션 데이터 요청
- 초기 데이터는 프론트에서 로컬 캐싱 처리
- 요약 카드 및 초기 탭 데이터 렌더링

### 자연어 요청 처리

- "OO와 대화하기" 탭에서 자연어 입력 + 콘텐츠 선택
- `/query` API 호출 → 검색할 콘텐츠 타입 정보와 함께 요청 전송
- 결과를 동일한 탭 내에서 대화형 UI로 표시
- 유용한 콘텐츠가 있는 경우 카드 형태로 함께 표시

### 결과 활용 흐름

- 대화하기 결과에서 '티켓에 응답으로 등록' 버튼 클릭
- Freshdesk API를 통해 티켓 응답으로 바로 등록 가능
- 성공/실패 피드백 제공

---

## ⚙️ 관리자 설정 (iparams.html)

- 인식 가능한 자연어 명령어 범위 설정
- 응답 스타일 및 문체/톤 설정
- 향후 옵션(로드맵):
  - 상담사별 맞춤 자연어 명령 패턴 학습
  - 자주 사용하는 명령어 템플릿화
  - 응답 품질 평가 및 피드백 시스템
  - 데이터 검색 기간 설정 (예: 1개월, 3개월, 6개월, 전체 등)

---

## 🛠️ 프론트 개발 핵심 지침

- 모든 API 호출은 **명시적 트리거**만 허용 (자동 요청 최소화)
- 상태관리는 `Zustand` 또는 React Context로 전역 관리
- 탭 간 데이터 공유는 store를 통한 lazy-load 방식
- 검색 결과/추천 항목은 페이지네이션/더보기 UX 포함
- 백엔드 API 응답 포맷은 각 탭 콘텐츠에 바로 표시 가능한 구조로 제공
- 티켓 응답으로 바로 등록할 수 있는 기능 제공

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: data.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: data.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * ë°ì´í„° ì²˜ë¦¬ ë° ìºì‹œ ê´€ë¦¬ ëª¨ë“ˆ (Data)
 * 
 * Freshdesk Custom App - Prompt Canvas
 * ì´ íŒŒì¼ì€ ëª¨ë“  ë°ì´í„° ì²˜ë¦¬, ìºì‹œ ê´€ë¦¬, ë°±ì—”ë“œ í†µì‹ ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.
 * 
 * ì£¼ìš” ê¸°ëŠ¥:
 * - í‹°ì¼“ ë°ì´í„° ë¡œë“œ ë° ìºì‹±
 * - ìœ ì‚¬ í‹°ì¼“ ë° ì¶”ì²œ ì†”ë£¨ì…˜ ë°ì´í„° ê´€ë¦¬
 * - ë°±ì—”ë“œ API í†µì‹  ë° ì‘ë‹µ ì²˜ë¦¬
 * - í”„ë¡¬í”„íŠ¸ ì „ì†¡ ë° AI ì‘ë‹µ ì²˜ë¦¬
 * - ì „ì—­ ë°ì´í„° ìºì‹œ ê´€ë¦¬ ë° ë¬´íš¨í™”
 * - ëª¨ì˜ ë°ì´í„° ìƒì„± (ê°œë°œ/í…ŒìŠ¤íŠ¸ìš©)
 * 
 * ì˜ì¡´ì„±:
 * - GlobalState: ì „ì—­ ìƒíƒœ ë° ë°ì´í„° ìºì‹œ
 * - API: ë°±ì—”ë“œ API í†µì‹ 
 * - Utils: ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
 * 
 * @namespace Data
 * @author Freshdesk Custom App Team
 * @since 1.0.0
 */

// Data ëª¨ë“ˆ ì •ì˜ - ëª¨ë“  ë°ì´í„° ê´€ë ¨ í•¨ìˆ˜ë¥¼ í•˜ë‚˜ì˜ ê°ì²´ë¡œ ê´€ë¦¬
window.Data = {
  /**
   * ëª¨ì˜ ì¶”ì²œ ì†”ë£¨ì…˜ ìƒì„±
   * 
   * ê°œë°œ ë° í…ŒìŠ¤íŠ¸ ëª©ì ìœ¼ë¡œ ëª¨ì˜ ì¶”ì²œ ì†”ë£¨ì…˜ ë°ì´í„°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
   * ë°±ì—”ë“œ ì—°ê²°ì´ ì—†ê±°ë‚˜ í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤.
   * 
   * @returns {Array&lt;Object>} ëª¨ì˜ ì†”ë£¨ì…˜ ë°°ì—´
   * 
   * @example
   * const mockSolutions = Data.generateMockSolutions();
   * console.log(mockSolutions.length); // 3
   */
  generateMockSolutions() {
    return [
      {
        id: "mock_1",
        title: "ì¼ë°˜ì ì¸ ë¬¸ì œ í•´ê²° ë°©ë²•",
        content: "ì´ ë¬¸ì œëŠ” ë³´í†µ ë‹¤ìŒê³¼ ê°™ì´ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤...",
        category: "ì¼ë°˜",
        relevance_score: 0.8,
        source: "ì§€ì‹ë² ì´ìŠ¤",
        type: "solution",
      },
      {
        id: "mock_2",
        title: "FAQ ë‹µë³€",
        content: "ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ì— ëŒ€í•œ ë‹µë³€ì…ë‹ˆë‹¤...",
        category: "FAQ",
        relevance_score: 0.7,
        source: "FAQ",
        type: "solution",
      },
      {
        id: "mock_3",
        title: "ë‹¨ê³„ë³„ ê°€ì´ë“œ",
        content: "ë¬¸ì œ í•´ê²°ì„ ìœ„í•œ ë‹¨ê³„ë³„ ê°€ì´ë“œì…ë‹ˆë‹¤...",
        category: "ê°€ì´ë“œ",
        relevance_score: 0.6,
        source: "ì‚¬ìš©ì ë§¤ë‰´ì–¼",
        type: "solution",
      },
    ];
  },

  /**
   * í‹°ì¼“ ìƒì„¸ ì •ë³´ ë¡œë“œ ë° UI ì—…ë°ì´íŠ¸
   * 
   * Freshdesk APIì—ì„œ í˜„ì¬ í‹°ì¼“ì˜ ìƒì„¸ ì •ë³´ë¥¼ ê°€ì ¸ì™€ì„œ
   * UIì— í‘œì‹œí•©ë‹ˆë‹¤. ë°±ì—”ë“œ í˜¸ì¶œ ì—†ì´ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œì—ì„œë§Œ ì²˜ë¦¬ë©ë‹ˆë‹¤.
   * 
   * @param {Object} client - Freshdesk client ê°ì²´
   * @returns {Promise&lt;void>} ë¹„ë™ê¸° ì²˜ë¦¬ ì™„ë£Œ
   * 
   * @example
   * await Data.loadTicketDetails(app.client);
   */
  async loadTicketDetails(client) {
    try {
      console.log("ğŸ“‹ í‹°ì¼“ ìƒì„¸ ì •ë³´ í™•ì¸ ì‹œì‘ (ë°±ì—”ë“œ í˜¸ì¶œ ì—†ìŒ)");

      // í‹°ì¼“ ID ê°€ì ¸ì˜¤ê¸°
      const ticketData = await client.data.get("ticket");

      if (ticketData &amp;&amp; ticketData.ticket) {
        const basicTicketInfo = ticketData.ticket;
        console.log("âœ… ê¸°ë³¸ í‹°ì¼“ ì •ë³´ í™•ì¸ ì™„ë£Œ:", basicTicketInfo);

        // ì „ì—­ ìƒíƒœì—ì„œ ìºì‹œëœ ë°ì´í„° í™•ì¸
        const globalData = GlobalState.getGlobalTicketData();
        
        // ìºì‹œëœ ë°ì´í„°ê°€ ìˆê³  ìµœì‹ ì¸ì§€ í™•ì¸
        if (
          globalData.cached_ticket_id === basicTicketInfo.id &amp;&amp;
          globalData.summary &amp;&amp;
          GlobalState.isGlobalDataValid()
        ) {
          console.log("âš¡ ìºì‹œëœ ë°ì´í„° ì‚¬ìš© ê°€ëŠ¥");
          return;
        }

        // ìƒˆë¡œìš´ í‹°ì¼“ì¸ ê²½ìš° ìºì‹œ ì´ˆê¸°í™”
        if (globalData.cached_ticket_id !== basicTicketInfo.id) {
          console.log("ğŸ†• ìƒˆë¡œìš´ í‹°ì¼“ ê°ì§€ â†’ ìºì‹œ ì´ˆê¸°í™”");
          GlobalState.resetGlobalTicketCache();
        }

        // ë°±ì—”ë“œ í˜¸ì¶œ ì—†ì´ ê¸°ë³¸ ì •ë³´ë§Œ ì €ì¥
        GlobalState.updateGlobalTicketData(basicTicketInfo.id, 'cached_ticket_id');
        GlobalState.updateGlobalTicketData(basicTicketInfo, 'ticket_info');
        console.log("â„¹ï¸ ë°±ì—”ë“œ í˜¸ì¶œ ì—†ì´ ê¸°ë³¸ ì •ë³´ë§Œ ì €ì¥");
      } else {
        console.warn("âš ï¸ ê¸°ë³¸ í‹°ì¼“ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ");
      }
    } catch (error) {
      console.error("âŒ í‹°ì¼“ ìƒì„¸ ì •ë³´ í™•ì¸ ì˜¤ë¥˜:", error);
    }
  },

  /**
   * ì¶”ì²œ í•´ê²°ì±… ë¡œë“œ
   * 
   * í‹°ì¼“ê³¼ ê´€ë ¨ëœ ì¶”ì²œ í•´ê²°ì±…ì„ ë¡œë“œí•˜ê³  í‘œì‹œí•©ë‹ˆë‹¤.
   * ìºì‹œëœ ë°ì´í„°ê°€ ìˆìœ¼ë©´ ì¬ì‚¬ìš©í•˜ê³ , ì—†ìœ¼ë©´ ëª¨ì˜ ë°ì´í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
   * 
   * @param {Object} ticket - í‹°ì¼“ ì •ë³´ ê°ì²´
   * 
   * @example
   * Data.loadSuggestedSolutions(currentTicket);
   */
  loadSuggestedSolutions(ticket) {
    const resultsElement = document.getElementById("suggested-solutions-list");
    if (resultsElement) {
      resultsElement.innerHTML =
        '&lt;div class="placeholder-text">ì¶”ì²œ í•´ê²°ì±…ì„ ë¡œë“œí•˜ëŠ” ì¤‘...&lt;/div>';
    }

    try {
      console.log("ğŸ’¡ ì¶”ì²œ í•´ê²°ì±… ë¡œë“œ ì‹œì‘");

      // ìºì‹œëœ ë°ì´í„°ê°€ ìˆê³  ê°™ì€ í‹°ì¼“ì¸ ê²½ìš° ì¬ì‚¬ìš©
      const globalData = GlobalState.getGlobalTicketData();
      if (
        globalData.cached_ticket_id === ticket.id &amp;&amp;
        globalData.recommended_solutions.length > 0
      ) {
        console.log("ğŸ”„ ìºì‹œëœ ì¶”ì²œ ì†”ë£¨ì…˜ ë°ì´í„° ì‚¬ìš©");
        this.displaySuggestedSolutions(globalData.recommended_solutions);
        return;
      }

      // ìºì‹œëœ ë°ì´í„°ê°€ ì—†ê±°ë‚˜ ë‹¤ë¥¸ í‹°ì¼“ì¸ ê²½ìš°ì—ë§Œ API í˜¸ì¶œ
      console.log(
        "âš ï¸ ì¶”ì²œ ì†”ë£¨ì…˜ì´ ìºì‹œì— ì—†ìŒ - /init ì—”ë“œí¬ì¸íŠ¸ì—ì„œ ì´ë¯¸ ë°›ì•˜ì–´ì•¼ í•˜ëŠ” ë°ì´í„°"
      );

      // /init ì—”ë“œí¬ì¸íŠ¸ì—ì„œ ì´ë¯¸ ëª¨ë“  ë°ì´í„°ë¥¼ ë°›ì•˜ì–´ì•¼ í•˜ë¯€ë¡œ,
      // ë³„ë„ API í˜¸ì¶œ ëŒ€ì‹  ëª¨ì˜ ë°ì´í„° í‘œì‹œ
      console.log("ğŸ”„ ëª¨ì˜ ë°ì´í„°ë¡œ í´ë°±");
      this.displaySuggestedSolutions(this.generateMockSolutions());

      // ìºì‹œ ì—…ë°ì´íŠ¸ (ëª¨ì˜ ë°ì´í„°ë¡œ)
      GlobalState.updateGlobalTicketData(this.generateMockSolutions(), 'recommended_solutions');
      GlobalState.updateGlobalTicketData(ticket.id, 'cached_ticket_id');
    } catch (error) {
      console.error("âŒ ì¶”ì²œ ì†”ë£¨ì…˜ ë¡œë“œ ì˜¤ë¥˜:", error);
      // í´ë°±: ëª¨ì˜ ë°ì´í„° í‘œì‹œ
      this.displaySuggestedSolutions(this.generateMockSolutions());
    }
  },

  // í‹°ì¼“ í˜ì´ì§€ ë¡œë“œ ì‹œ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ë°ì´í„° ë¯¸ë¦¬ ì¤€ë¹„í•˜ëŠ” í•¨ìˆ˜
  async preloadTicketDataOnPageLoad(client) {
    try {
      console.log("ğŸ”„ FDK ì•ˆì „í•œ ë°±ê·¸ë¼ìš´ë“œ ë°ì´í„° ì¤€ë¹„ ì‹œì‘");

      // ë” ì•ˆì „í•œ FDK API ì ‘ê·¼ì„ ìœ„í•œ ì§€ì—° ì‹œê°„ ì¦ê°€ ë° ë‹¨ê³„ì  ê²€ì¦
      setTimeout(async () => {
        try {
          // 1ë‹¨ê³„: FDK í´ë¼ì´ì–¸íŠ¸ê°€ ì¤€ë¹„ë˜ì—ˆëŠ”ì§€ í™•ì¸
          if (!client || typeof client.instance === "undefined") {
            console.warn("âš ï¸ FDK í´ë¼ì´ì–¸íŠ¸ê°€ ì•„ì§ ì¤€ë¹„ë˜ì§€ ì•ŠìŒ");
            return;
          }

          // 2ë‹¨ê³„: ì»¨í…ìŠ¤íŠ¸ í™•ì¸ (ì•ˆì „í•œ ë°©ë²•)
          let ctx;
          try {
            ctx = await client.instance.context();
            console.log("ğŸ” í˜ì´ì§€ ì»¨í…ìŠ¤íŠ¸ í™•ì¸ ì„±ê³µ:", ctx);
          } catch (contextError) {
            console.warn(
              "âš ï¸ ì»¨í…ìŠ¤íŠ¸ í™•ì¸ ì‹¤íŒ¨, ê¸°ë³¸ ë¡œì§ìœ¼ë¡œ ì§„í–‰:",
              contextError
            );
            // ì»¨í…ìŠ¤íŠ¸ í™•ì¸ ì‹¤íŒ¨ ì‹œ ì•ˆì „í•˜ê²Œ ì¢…ë£Œ
            return;
          }

          // 3ë‹¨ê³„: í‹°ì¼“ í˜ì´ì§€ì¸ì§€ í™•ì¸
          const isTicketPage =
            ctx.location &amp;&amp;
            (ctx.location.includes("ticket") ||
              ctx.location === "ticket_top_navigation");

          if (isTicketPage) {
            console.log("ğŸ“‹ í‹°ì¼“ í˜ì´ì§€ í™•ì¸ë¨ â†’ ë°ì´í„° ë¡œë“œ ì‹œì‘");

            // 4ë‹¨ê³„: í‹°ì¼“ ë°ì´í„° ì•ˆì „í•˜ê²Œ ê°€ì ¸ì˜¤ê¸°
            let ticketData;
            try {
              ticketData = await client.data.get("ticket");
            } catch (dataError) {
              console.warn(
                "âš ï¸ í‹°ì¼“ ë°ì´í„° ì ‘ê·¼ ì‹¤íŒ¨ (EventAPI ì˜¤ë¥˜ ê°€ëŠ¥ì„±):",
                dataError
              );
              return;
            }

            if (ticketData &amp;&amp; ticketData.ticket) {
              const currentTicketId = ticketData.ticket.id;

              // 5ë‹¨ê³„: ìºì‹œ í™•ì¸ ë° ë°±ì—”ë“œ í˜¸ì¶œ
              const globalData = GlobalState.getGlobalTicketData();
              if (
                globalData.cached_ticket_id === currentTicketId &amp;&amp;
                globalData.summary &amp;&amp;
                !this.isDataStale()
              ) {
                console.log("âœ… ì´ë¯¸ ìºì‹œëœ ë°ì´í„° ì¡´ì¬ â†’ ë°±ê·¸ë¼ìš´ë“œ ë¡œë“œ ìŠ¤í‚µ");
                return;
              }

              // ì¤‘ë³µ í˜¸ì¶œ ë°©ì§€
              if (GlobalState.isLoading()) {
                console.log("âš ï¸ ì´ë¯¸ ë¡œë”© ì¤‘ì´ë¯€ë¡œ ë°±ê·¸ë¼ìš´ë“œ ë¡œë“œ ìŠ¤í‚µ");
                return;
              }

              console.log(
                "ğŸš€ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ìƒˆë¡œìš´ í‹°ì¼“ ë°ì´í„° ë¡œë“œ ì¤‘...",
                currentTicketId
              );

              // 6ë‹¨ê³„: ë°±ì—”ë“œ í˜¸ì¶œ (FDKì™€ ë…ë¦½ì )
              try {
                GlobalState.resetGlobalTicketCache();
                await this.loadInitialDataFromBackend(client, ticketData.ticket);
                console.log(
                  "âœ… ë°±ê·¸ë¼ìš´ë“œ ë°ì´í„° ë¡œë“œ ì™„ë£Œ â†’ ì•± ì•„ì´ì½˜ í´ë¦­ ì‹œ ì¦‰ì‹œ ëª¨ë‹¬ í‘œì‹œ ê°€ëŠ¥"
                );
              } catch (backendError) {
                console.warn("âš ï¸ ë°±ì—”ë“œ í˜¸ì¶œ ì‹¤íŒ¨:", backendError);
              }
            } else {
              console.log("âš ï¸ í‹°ì¼“ ì •ë³´ ì—†ìŒ â†’ ë°±ê·¸ë¼ìš´ë“œ ë¡œë“œ ìŠ¤í‚µ");
            }
          } else {
            console.log("ğŸ“„ í‹°ì¼“ í˜ì´ì§€ê°€ ì•„ë‹˜ â†’ ë°±ê·¸ë¼ìš´ë“œ ë¡œë“œ ìŠ¤í‚µ");
          }
        } catch (error) {
          console.warn("âš ï¸ ë°±ê·¸ë¼ìš´ë“œ ë°ì´í„° ë¡œë“œ ì¤‘ ì˜ˆì™¸ ë°œìƒ:", error);
        }
      }, 2000); // 2ì´ˆë¡œ ì§€ì—° ì‹œê°„ ì¦ê°€í•˜ì—¬ FDK ì™„ì „ ì´ˆê¸°í™” ëŒ€ê¸°
    } catch (error) {
      console.warn("âš ï¸ ë°±ê·¸ë¼ìš´ë“œ ë°ì´í„° ì¤€ë¹„ ì´ˆê¸°í™” ì‹¤íŒ¨:", error);
    }
  },

  /**
   * ë°±ê·¸ë¼ìš´ë“œ ë°ì´í„° ë¡œë“œ
   * 
   * ì•±ì´ ì´ˆê¸°í™”ëœ í›„ ë°±ê·¸ë¼ìš´ë“œì—ì„œ í‹°ì¼“ ê´€ë ¨ ë°ì´í„°ë¥¼ ë¡œë“œí•©ë‹ˆë‹¤.
   * ì»¨í…ìŠ¤íŠ¸ í™•ì¸, í‹°ì¼“ í˜ì´ì§€ ê²€ì¦, ìºì‹œ í™•ì¸ ë“±ì˜ ë‹¨ê³„ë¥¼ ê±°ì³
   * í•„ìš”í•œ ê²½ìš°ì—ë§Œ ë°±ì—”ë“œ APIë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.
   * 
   * @param {Object} client - Freshdesk client ê°ì²´
   * @returns {Promise&lt;void>} ë¹„ë™ê¸° ì²˜ë¦¬ ì™„ë£Œ
   * 
   * @description
   * ë‹¤ìŒ ë‹¨ê³„ë¥¼ ìˆœì„œëŒ€ë¡œ ìˆ˜í–‰í•©ë‹ˆë‹¤:
   * 1. í´ë¼ì´ì–¸íŠ¸ ì»¨í…ìŠ¤íŠ¸ í™•ì¸
   * 2. í‹°ì¼“ í˜ì´ì§€ ì—¬ë¶€ í™•ì¸
   * 3. í‹°ì¼“ ë°ì´í„° ì•ˆì „ ì¡°íšŒ
   * 4. ìºì‹œ ìƒíƒœ í™•ì¸
   * 5. í•„ìš”ì‹œ ë°±ì—”ë“œ ë°ì´í„° ë¡œë“œ
   * 
   * @example
   * Data.performBackgroundDataLoad(app.client);
   */
  async performBackgroundDataLoad(client) {
    try {
      console.log("ğŸ”„ ë°±ê·¸ë¼ìš´ë“œ ë°ì´í„° ë¡œë“œ ì‹œì‘");

      // FDK í´ë¼ì´ì–¸íŠ¸ê°€ ì¤€ë¹„ë˜ì—ˆëŠ”ì§€ í™•ì¸
      if (!client || typeof client.instance === "undefined") {
        console.warn("âš ï¸ FDK í´ë¼ì´ì–¸íŠ¸ê°€ ì•„ì§ ì¤€ë¹„ë˜ì§€ ì•ŠìŒ");
        return;
      }

      // ì»¨í…ìŠ¤íŠ¸ í™•ì¸
      let ctx;
      try {
        ctx = await client.instance.context();
        console.log("ğŸ” í˜ì´ì§€ ì»¨í…ìŠ¤íŠ¸ í™•ì¸ ì„±ê³µ:", ctx);
      } catch (contextError) {
        console.warn(
          "âš ï¸ ì»¨í…ìŠ¤íŠ¸ í™•ì¸ ì‹¤íŒ¨, ê¸°ë³¸ ë¡œì§ìœ¼ë¡œ ì§„í–‰:",
          contextError
        );
        // ê¸°ë³¸ ë¡œì§ìœ¼ë¡œ ì§„í–‰ (í‹°ì¼“ í˜ì´ì§€ë¡œ ê°€ì •)
      }

      // í‹°ì¼“ í˜ì´ì§€ì¸ì§€ í™•ì¸
      const isTicketPage =
        ctx.location &amp;&amp;
        (ctx.location.includes("ticket") ||
          ctx.location === "ticket_top_navigation");

      if (!isTicketPage) {
        console.log("ğŸ“„ í‹°ì¼“ í˜ì´ì§€ê°€ ì•„ë‹˜ â†’ ë°±ê·¸ë¼ìš´ë“œ ë¡œë“œ ìŠ¤í‚µ");
        return;
      }

      console.log("ğŸ“‹ í‹°ì¼“ í˜ì´ì§€ í™•ì¸ë¨ â†’ ë°ì´í„° ë¡œë“œ ì‹œì‘");

      // í‹°ì¼“ ë°ì´í„° ì•ˆì „í•˜ê²Œ ê°€ì ¸ì˜¤ê¸°
      let ticketData;
      try {
        ticketData = await client.data.get("ticket");
      } catch (dataError) {
        console.warn(
          "âš ï¸ í‹°ì¼“ ë°ì´í„° ì ‘ê·¼ ì‹¤íŒ¨ (EventAPI ì˜¤ë¥˜ ê°€ëŠ¥ì„±):",
          dataError
        );
        return;
      }

      if (ticketData &amp;&amp; ticketData.ticket) {
        const currentTicketId = ticketData.ticket.id;

        // ìºì‹œ í™•ì¸ ë° ë°±ì—”ë“œ í˜¸ì¶œ
        const globalData = GlobalState.getGlobalTicketData();
        if (
          globalData.cached_ticket_id === currentTicketId &amp;&amp;
          globalData.summary &amp;&amp;
          !this.isDataStale()
        ) {
          console.log("âœ… ì´ë¯¸ ìºì‹œëœ ë°ì´í„° ì¡´ì¬ â†’ ë°±ê·¸ë¼ìš´ë“œ ë¡œë“œ ìŠ¤í‚µ");
          return;
        }

        // ì¤‘ë³µ í˜¸ì¶œ ë°©ì§€
        if (GlobalState.isLoading()) {
          console.log("âš ï¸ ì´ë¯¸ ë¡œë”© ì¤‘ì´ë¯€ë¡œ ë°±ê·¸ë¼ìš´ë“œ ë¡œë“œ ìŠ¤í‚µ");
          return;
        }

        console.log("ğŸš€ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ìƒˆë¡œìš´ í‹°ì¼“ ë°ì´í„° ë¡œë“œ ì¤‘...", currentTicketId);

        // ë°±ì—”ë“œ í˜¸ì¶œ (FDKì™€ ë…ë¦½ì )
        try {
          GlobalState.resetGlobalTicketCache();
          await this.loadInitialDataFromBackend(client, ticketData.ticket);
          console.log(
            "âœ… ë°±ê·¸ë¼ìš´ë“œ ë°ì´í„° ë¡œë“œ ì™„ë£Œ â†’ ì•± ì•„ì´ì½˜ í´ë¦­ ì‹œ ì¦‰ì‹œ ëª¨ë‹¬ í‘œì‹œ ê°€ëŠ¥"
          );
        } catch (backendError) {
          console.warn("âš ï¸ ë°±ì—”ë“œ í˜¸ì¶œ ì‹¤íŒ¨:", backendError);
        }
      } else {
        console.log("âš ï¸ í‹°ì¼“ ì •ë³´ ì—†ìŒ â†’ ë°±ê·¸ë¼ìš´ë“œ ë¡œë“œ ìŠ¤í‚µ");
      }
    } catch (error) {
      console.warn("âš ï¸ ë°±ê·¸ë¼ìš´ë“œ ë°ì´í„° ë¡œë“œ ì¤‘ ì˜ˆì™¸ ë°œìƒ:", error);
    }
  },

  /**
   * ë‹¤ë‹¨ê³„ ì¬ì‹œë„ ë°ì´í„° ë¡œë“œ
   * 
   * FDKì˜ ë¶ˆì•ˆì •ì„±ì„ ê³ ë ¤í•˜ì—¬ ì—¬ëŸ¬ ì‹œì ì—ì„œ ë°ì´í„° ë¡œë“œë¥¼ ì¬ì‹œë„í•©ë‹ˆë‹¤.
   * ê° ì‹œë„ëŠ” ì ì§„ì ìœ¼ë¡œ ëŠ¦ì–´ì§€ëŠ” ì§€ì—° ì‹œê°„ì„ ê°€ì§€ë©°,
   * ì´ë¯¸ ë°ì´í„°ê°€ ë¡œë“œëœ ê²½ìš° í›„ì† ì‹œë„ë¥¼ ìë™ìœ¼ë¡œ ì¤‘ë‹¨í•©ë‹ˆë‹¤.
   * 
   * @param {Object} client - Freshdesk client ê°ì²´
   * @returns {void}
   * 
   * @description
   * ì¬ì‹œë„ ì¼ì •:
   * - ì¦‰ì‹œ ì‹œë„ (0ms)
   * - 500ms í›„ ì¬ì‹œë„
   * - 1000ms í›„ ì¬ì‹œë„  
   * - 2000ms í›„ ì¬ì‹œë„
   * - 3000ms í›„ ìµœì¢… ì‹œë„
   * 
   * @example
   * Data.retryDataLoadWithMultipleAttempts(app.client);
   */
  retryDataLoadWithMultipleAttempts(client) {
    console.log("ğŸ¯ ì ê·¹ì ì¸ ë°±ê·¸ë¼ìš´ë“œ ë°ì´í„° ë¡œë“œ ì „ëµ ì‹œì‘");

    // ì—¬ëŸ¬ ì‹œì ì—ì„œ ì•ˆì „í•œ ë°ì´í„° ë¡œë“œ ì‹œë„ (ì ì§„ì  ì§€ì—°)
    const loadAttempts = [
      { delay: 0, label: "ì¦‰ì‹œ ì‹œë„" },
      { delay: 500, label: "ì¬ì‹œë„ 1" },
      { delay: 1000, label: "ì¬ì‹œë„ 2" },
      { delay: 2000, label: "ì¬ì‹œë„ 3" },
      { delay: 3000, label: "ìµœì¢… ì‹œë„" },
    ];

    loadAttempts.forEach(({ delay, label }) => {
      setTimeout(async () => {
        // ì´ë¯¸ ë¡œë“œëœ ê²½ìš° ìŠ¤í‚µ
        const globalData = GlobalState.getGlobalTicketData();
        if (globalData.cached_ticket_id &amp;&amp; globalData.summary) {
          console.log(`âœ… ${label}: ì´ë¯¸ ë°ì´í„° ì¤€ë¹„ë¨ - ìŠ¤í‚µ`);
          return;
        }

        try {
          console.log(`ğŸ”„ ${label} (${delay}ms í›„) - FDK ì•ˆì „ì„± ê²€ì¦ ì‹œì‘`);

          // FDK ì•ˆì „ì„± ê²€ì¦
          if (
            !client ||
            typeof client.data === "undefined" ||
            typeof client.instance === "undefined"
          ) {
            console.warn(`âš ï¸ ${label}: FDK ì•„ì§ ì¤€ë¹„ ì•ˆë¨`);
            return;
          }

          // ì»¨í…ìŠ¤íŠ¸ í™•ì¸ (ì˜µì…˜, ì‹¤íŒ¨í•´ë„ ê³„ì† ì§„í–‰)
          let isTicketPage = false;
          try {
            const ctx = await client.instance.context();
            isTicketPage =
              ctx.location &amp;&amp;
              (ctx.location.includes("ticket") ||
                ctx.location === "ticket_top_navigation");
            console.log(
              `ğŸ” ${label}: ì»¨í…ìŠ¤íŠ¸ í™•ì¸ - ${ctx.location} (í‹°ì¼“í˜ì´ì§€: ${isTicketPage})`
            );
          } catch (contextError) {
            console.warn(
              `âš ï¸ ${label}: ì»¨í…ìŠ¤íŠ¸ í™•ì¸ ì‹¤íŒ¨, í‹°ì¼“ ë°ì´í„°ë¡œ ì¶”ë¡  ì‹œë„`
            );
            isTicketPage = true; // ì¼ë‹¨ ì‹œë„í•´ë³´ê¸°
          }

          // í‹°ì¼“ ë°ì´í„° ì•ˆì „í•˜ê²Œ ê°€ì ¸ì˜¤ê¸°
          if (isTicketPage) {
            const ticketData = await client.data.get("ticket");

            if (ticketData &amp;&amp; ticketData.ticket &amp;&amp; ticketData.ticket.id) {
              const currentTicketId = ticketData.ticket.id;

              // ìºì‹œ í™•ì¸ ë° ì¤‘ë³µ í˜¸ì¶œ ë°©ì§€
              const globalData = GlobalState.getGlobalTicketData();
              if (
                globalData.cached_ticket_id === currentTicketId &amp;&amp;
                globalData.summary &amp;&amp;
                !this.isDataStale()
              ) {
                console.log(`âœ… ${label}: ì´ë¯¸ ìºì‹œëœ ë°ì´í„° ì¡´ì¬ â†’ ìŠ¤í‚µ`);
                return;
              }

              if (GlobalState.isLoading()) {
                console.log(`âš ï¸ ${label}: ì´ë¯¸ ë¡œë”© ì¤‘ â†’ ìŠ¤í‚µ`);
                return;
              }

              console.log(
                `ğŸš€ ${label}: í‹°ì¼“ ID ${currentTicketId} ë°±ì—”ë“œ ë¡œë“œ ì‹œì‘`
              );

              // ë°±ì—”ë“œ í˜¸ì¶œ (FDKì™€ ë…ë¦½ì )
              GlobalState.resetGlobalTicketCache();
              await this.loadInitialDataFromBackend(client, ticketData.ticket);

              console.log(
                `âœ… ${label}: ë°±ì—”ë“œ ë°ì´í„° ë¡œë“œ ì™„ë£Œ! ë‹¤ìŒ ì•± ì•„ì´ì½˜ í´ë¦­ ì‹œ ì¦‰ì‹œ í‘œì‹œë©ë‹ˆë‹¤.`
              );

              // ì„±ê³µ ì‹œ ë” ì´ìƒ ì‹œë„í•˜ì§€ ì•Šë„ë¡ í”Œë˜ê·¸ ì„¤ì •
              return;
            } else {
              console.warn(`âš ï¸ ${label}: í‹°ì¼“ ë°ì´í„° ì—†ìŒ`);
            }
          } else {
            console.log(`ğŸ“„ ${label}: í‹°ì¼“ í˜ì´ì§€ ì•„ë‹˜ - ìŠ¤í‚µ`);
          }
        } catch (error) {
          console.warn(`âš ï¸ ${label}: ë¡œë“œ ì‹¤íŒ¨ (${error.message})`);

          // EventAPI ì˜¤ë¥˜ëŠ” ì˜ˆìƒëœ ìƒí™©ì´ë¯€ë¡œ ëœ ì‹¬ê°í•˜ê²Œ ì²˜ë¦¬
          if (error.message &amp;&amp; error.message.includes("EventAPI")) {
            console.log(`ğŸ”§ ${label}: EventAPI íƒ€ì´ë° ì´ìŠˆ - ë‚˜ì¤‘ì— ë‹¤ì‹œ ì‹œë„`);
          }
        }
      }, delay);
    });

    // ì¶”ê°€ ì „ëµ: URL ë³€ê²½ ê°ì§€
    if (typeof window !== "undefined") {
      let lastUrl = window.location.href;
      const urlCheckInterval = setInterval(() => {
        if (window.location.href !== lastUrl) {
          lastUrl = window.location.href;
          const globalData = GlobalState.getGlobalTicketData();
          if (
            lastUrl.includes("/tickets/") &amp;&amp;
            (!globalData.cached_ticket_id || !globalData.summary)
          ) {
            console.log(
              "ğŸ¯ URL ë³€ê²½ìœ¼ë¡œ í‹°ì¼“ í˜ì´ì§€ ì§„ì… ê°ì§€ â†’ ë°±ê·¸ë¼ìš´ë“œ ë¡œë“œ ì‹œë„"
            );
            setTimeout(() => {
              this.attemptSingleBackgroundLoad(client, "URLë³€ê²½ê°ì§€");
            }, 1500);
          }
        }
      }, 1000);

      // 10ë¶„ í›„ URL ê°ì§€ ì •ë¦¬ (ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€)
      setTimeout(() => {
        clearInterval(urlCheckInterval);
        console.log("ğŸ§¹ URL ë³€ê²½ ê°ì§€ ì¢…ë£Œ");
      }, 600000);
    }
  },

  /**
   * ë‹¨ì¼ ë°±ê·¸ë¼ìš´ë“œ ë¡œë“œ ì‹œë„
   * 
   * í•œ ë²ˆì˜ ë°±ê·¸ë¼ìš´ë“œ ë°ì´í„° ë¡œë“œë¥¼ ì‹œë„í•©ë‹ˆë‹¤.
   * ìºì‹œ ìƒíƒœ í™•ì¸, ì¤‘ë³µ í˜¸ì¶œ ë°©ì§€, FDK ì•ˆì „ì„± ê²€ì¦ì„ í¬í•¨í•©ë‹ˆë‹¤.
   * 
   * @param {Object} client - Freshdesk client ê°ì²´
   * @param {string} source - ë¡œë“œ ì‹œë„ ì¶œì²˜ (ë¡œê¹…ìš©)
   * @returns {Promise&lt;void>} ë¹„ë™ê¸° ì²˜ë¦¬ ì™„ë£Œ
   * 
   * @example
   * await Data.attemptSingleBackgroundLoad(app.client, 'URLë³€ê²½ê°ì§€');
   */
  async attemptSingleBackgroundLoad(client, source = "ë‹¨ì¼ì‹œë„") {
    try {
      // ìºì‹œ í™•ì¸
      const globalData = GlobalState.getGlobalTicketData();
      if (
        globalData.cached_ticket_id &amp;&amp;
        globalData.summary &amp;&amp;
        !this.isDataStale()
      ) {
        console.log(`âœ… ${source}: ì´ë¯¸ ìœ íš¨í•œ ìºì‹œ ë°ì´í„° ì¡´ì¬ â†’ ìŠ¤í‚µ`);
        return;
      }

      // ì¤‘ë³µ í˜¸ì¶œ ë°©ì§€
      if (GlobalState.isLoading()) {
        console.log(`âš ï¸ ${source}: ì´ë¯¸ ë¡œë”© ì¤‘ â†’ ìŠ¤í‚µ`);
        return;
      }

      const ticketData = await client.data.get("ticket");
      if (ticketData &amp;&amp; ticketData.ticket &amp;&amp; ticketData.ticket.id) {
        console.log(
          `ğŸ”„ ${source}: ë°±ê·¸ë¼ìš´ë“œ ë¡œë“œ ì‹œì‘ (í‹°ì¼“: ${ticketData.ticket.id})`
        );
        GlobalState.resetGlobalTicketCache();
        await this.loadInitialDataFromBackend(client, ticketData.ticket);
        console.log(`âœ… ${source}: ë°±ê·¸ë¼ìš´ë“œ ë¡œë“œ ì„±ê³µ`);
      }
    } catch (error) {
      console.warn(`âš ï¸ ${source}: ë°±ê·¸ë¼ìš´ë“œ ë¡œë“œ ì‹¤íŒ¨:`, error.message);
    }
  },

  /**
   * ë©”ëª¨ì´ì œì´ì…˜ëœ ë°ì´í„° ì²˜ë¦¬ í•¨ìˆ˜ë“¤
   */
  memoizedFunctions: new Map(),

  /**
   * ë©”ëª¨ì´ì œì´ì…˜ ì ìš© í—¬í¼
   */
  setupMemoization() {
      // ë¬´ê±°ìš´ ì—°ì‚° í•¨ìˆ˜ë“¤ì— ë©”ëª¨ì´ì œì´ì…˜ ì ìš©
      this.memoizedFunctions.set('processTicketData', 
          window.PerformanceOptimizer.memoize(this.processTicketDataInternal.bind(this), 
              (ticket) => `${ticket.id}_${ticket.updated_at || ''}`));
      
      this.memoizedFunctions.set('searchTickets',
          window.PerformanceOptimizer.memoize(this.searchTicketsInternal.bind(this),
              (query) => `search_${query.toLowerCase()}`));
      
      this.memoizedFunctions.set('filterTicketsByType',
          window.PerformanceOptimizer.memoize(this.filterTicketsByTypeInternal.bind(this),
              (tickets, type) => `filter_${type}_${tickets.length}`));
  },

  /**
   * ë°°ì¹˜ ë°ì´í„° ì²˜ë¦¬
   * ëŒ€ëŸ‰ ë°ì´í„°ë¥¼ ì²­í¬ ë‹¨ìœ„ë¡œ ì²˜ë¦¬í•˜ì—¬ UI ë¸”ë¡œí‚¹ ë°©ì§€
   */
  async processBatchData(items, processor, options = {}) {
      const { 
          batchSize = 100, 
          delay = 10,
          onProgress = null,
          onBatchComplete = null 
      } = options;
      
      const results = [];
      const total = items.length;
      
      console.log(`[ë°ì´í„°] ë°°ì¹˜ ì²˜ë¦¬ ì‹œì‘: ${total}ê°œ í•­ëª©, ${batchSize}ê°œì”© ì²˜ë¦¬`);
      
      for (let i = 0; i &lt; total; i += batchSize) {
          const batch = items.slice(i, i + batchSize);
          
          // ë°°ì¹˜ ì²˜ë¦¬
          const batchResults = await Promise.all(
              batch.map(item => processor(item))
          );
          
          results.push(...batchResults);
          
          // ì§„í–‰ë¥  ì½œë°±
          if (onProgress) {
              const progress = Math.min(100, ((i + batchSize) / total) * 100);
              onProgress(progress, i + batchSize, total);
          }
          
          // ë°°ì¹˜ ì™„ë£Œ ì½œë°±
          if (onBatchComplete) {
              onBatchComplete(batchResults, i / batchSize + 1);
          }
          
          // UI ë¸”ë¡œí‚¹ ë°©ì§€ë¥¼ ìœ„í•œ ì§€ì—°
          if (i + batchSize &lt; total) {
              await new Promise(resolve => setTimeout(resolve, delay));
          }
      }
      
      console.log(`[ë°ì´í„°] ë°°ì¹˜ ì²˜ë¦¬ ì™„ë£Œ: ${results.length}ê°œ ê²°ê³¼`);
      return results;
  },

  /**
   * ìŠ¤ë§ˆíŠ¸ ìºì‹± ë°ì´í„° ë¡œë”
   */
  async loadDataWithSmartCache(loadFunction, cacheKey, options = {}) {
      const { 
          ttl = 300000, // 5ë¶„
          forceRefresh = false,
          fallbackData = null 
      } = options;
      
      // ìºì‹œ í™•ì¸
      if (!forceRefresh) {
          const cached = window.PerformanceOptimizer.getCachedApiResult(cacheKey);
          if (cached) {
              console.log(`[ë°ì´í„° ìºì‹œ] ${cacheKey} - ìºì‹œ ì ì¤‘`);
              return cached;
          }
      }
      
      try {
          // ë°ì´í„° ë¡œë“œ
          const data = await loadFunction();
          
          // ìºì‹œ ì €ì¥
          window.PerformanceOptimizer.cacheApiResult(cacheKey, data, ttl);
          
          return data;
          
      } catch (error) {
          console.warn(`[ë°ì´í„°] ${cacheKey} ë¡œë“œ ì‹¤íŒ¨:`, error.message);
          
          // í´ë°± ë°ì´í„° ë˜ëŠ” ì—ëŸ¬ ì²˜ë¦¬
          if (fallbackData) {
              console.log(`[ë°ì´í„°] ${cacheKey} - í´ë°± ë°ì´í„° ì‚¬ìš©`);
              return fallbackData;
          }
          
          throw error;
      }
  },

  /**
   * ë©”ëª¨ì´ì œì´ì…˜ëœ í‹°ì¼“ ë°ì´í„° ì²˜ë¦¬
   */
  processTicketData(ticket) {
      const memoized = this.memoizedFunctions.get('processTicketData');
      return memoized ? memoized(ticket) : this.processTicketDataInternal(ticket);
  },

  /**
   * ì‹¤ì œ í‹°ì¼“ ë°ì´í„° ì²˜ë¦¬ (ë‚´ë¶€ í•¨ìˆ˜)
   */
  processTicketDataInternal(ticket) {
      try {
          // ë³µì¡í•œ í‹°ì¼“ ë°ì´í„° ì²˜ë¦¬ ë¡œì§
          const processed = {
              id: ticket.id,
              subject: ticket.subject || 'ì œëª© ì—†ìŒ',
              description: this.sanitizeText(ticket.description_text || ''),
              status: this.normalizeStatus(ticket.status),
              priority: this.normalizePriority(ticket.priority),
              created_at: this.parseDate(ticket.created_at),
              updated_at: this.parseDate(ticket.updated_at),
              tags: this.extractTags(ticket.tags || []),
              category: this.categorizeTicket(ticket),
              urgency_score: this.calculateUrgencyScore(ticket)
          };
          
          return processed;
          
      } catch (error) {
          console.warn('[ë°ì´í„°] í‹°ì¼“ ì²˜ë¦¬ ì‹¤íŒ¨:', ticket.id, error);
          return this.createFallbackTicket(ticket);
      }
  },

  /**
   * ë©”ëª¨ì´ì œì´ì…˜ëœ í‹°ì¼“ ê²€ìƒ‰
   */
  searchTickets(query) {
      if (!query || query.length &lt; 2) {
          return this.getAllProcessedTickets();
      }
      
      const memoized = this.memoizedFunctions.get('searchTickets');
      return memoized ? memoized(query) : this.searchTicketsInternal(query);
  },

  /**
   * ì‹¤ì œ í‹°ì¼“ ê²€ìƒ‰ (ë‚´ë¶€ í•¨ìˆ˜)
   */
  searchTicketsInternal(query) {
      const tickets = this.getAllProcessedTickets();
      const lowercaseQuery = query.toLowerCase();
      
      // ë‹¤ì¤‘ í•„ë“œ ê²€ìƒ‰ (ì œëª©, ì„¤ëª…, íƒœê·¸)
      return tickets.filter(ticket => {
          return ticket.subject.toLowerCase().includes(lowercaseQuery) ||
                 ticket.description.toLowerCase().includes(lowercaseQuery) ||
                 ticket.tags.some(tag => tag.toLowerCase().includes(lowercaseQuery));
      });
  },

  /**
   * ì§€ì—° ë¡œë”© ë°ì´í„° ê´€ë¦¬
   */
  createLazyDataLoader(loaderFunction, placeholder = null) {
      return window.PerformanceOptimizer.createLazyLoader(loaderFunction, placeholder);
  },

  /**
   * ì‹¤ì‹œê°„ ë°ì´í„° ì—…ë°ì´íŠ¸ (ì›¹ì†Œì¼“ ì‹œë®¬ë ˆì´ì…˜)
   */
  setupRealTimeUpdates(callback, interval = 30000) { // 30ì´ˆë§ˆë‹¤
      let updateTimer = null;
      
      const startUpdates = () => {
          if (updateTimer) return;
          
          updateTimer = setInterval(async () => {
              try {
                  // í˜ì´ì§€ê°€ í™œì„±í™”ëœ ê²½ìš°ë§Œ ì—…ë°ì´íŠ¸
                  if (!document.hidden) {
                      const hasUpdates = await this.checkForUpdates();
                      if (hasUpdates &amp;&amp; callback) {
                          callback();
                      }
                  }
              } catch (error) {
                  console.warn('[ë°ì´í„°] ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨:', error);
              }
          }, interval);
          
          console.log(`[ë°ì´í„°] ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ì‹œì‘ (${interval}ms ê°„ê²©)`);
      };
      
      const stopUpdates = () => {
          if (updateTimer) {
              clearInterval(updateTimer);
              updateTimer = null;
              console.log('[ë°ì´í„°] ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ì¤‘ì§€');
          }
      };
      
      // í˜ì´ì§€ ê°€ì‹œì„±ì— ë”°ë¥¸ ìë™ ì œì–´
      document.addEventListener('visibilitychange', () => {
          if (document.hidden) {
              stopUpdates();
          } else {
              startUpdates();
          }
      });
      
      startUpdates();
      
      return { start: startUpdates, stop: stopUpdates };
  },

  /**
   * ë°ì´í„° ì••ì¶• ë° ìµœì í™”
   */
  compressTicketData(tickets) {
      // ë¶ˆí•„ìš”í•œ í•„ë“œ ì œê±° ë° ë°ì´í„° ì••ì¶•
      return tickets.map(ticket => ({
          id: ticket.id,
          s: ticket.subject,
          d: this.truncateText(ticket.description, 200),
          st: ticket.status,
          p: ticket.priority,
          ca: ticket.created_at,
          ua: ticket.updated_at,
          t: ticket.tags.slice(0, 5), // ìµœëŒ€ 5ê°œ íƒœê·¸ë§Œ
          us: ticket.urgency_score
      }));
  },

  /**
   * ì••ì¶•ëœ ë°ì´í„° ë³µì›
   */
  decompressTicketData(compressedTickets) {
      return compressedTickets.map(ticket => ({
          id: ticket.id,
          subject: ticket.s,
          description: ticket.d,
          status: ticket.st,
          priority: ticket.p,
          created_at: ticket.ca,
          updated_at: ticket.ua,
          tags: ticket.t,
          urgency_score: ticket.us
      }));
  },

  /**
   * ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
   */
  sanitizeText(text) {
      return text.replace(/&lt;[^>]*>/g, '').replace(/\s+/g, ' ').trim();
  },

  truncateText(text, maxLength) {
      return text.length > maxLength ? text.substring(0, maxLength) + '...' : text;
  },

  normalizeStatus(status) {
      const statusMap = {
          2: 'open', 3: 'pending', 4: 'resolved', 5: 'closed'
      };
      return statusMap[status] || 'unknown';
  },

  normalizePriority(priority) {
      const priorityMap = {
          1: 'low', 2: 'medium', 3: 'high', 4: 'urgent'
      };
      return priorityMap[priority] || 'medium';
  },

  parseDate(dateString) {
      try {
          return new Date(dateString).toISOString();
      } catch {
          return new Date().toISOString();
      }
  },

  extractTags(tags) {
      return Array.isArray(tags) ? tags.filter(tag => tag &amp;&amp; tag.length > 0) : [];
  },

  categorizeTicket(ticket) {
      // ê°„ë‹¨í•œ ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜ ë¡œì§
      const subject = (ticket.subject || '').toLowerCase();
      if (subject.includes('bug') || subject.includes('error')) return 'bug';
      if (subject.includes('feature') || subject.includes('request')) return 'feature';
      if (subject.includes('question') || subject.includes('help')) return 'support';
      return 'general';
  },

  calculateUrgencyScore(ticket) {
      let score = 0;
      if (ticket.priority === 4) score += 40; // urgent
      if (ticket.priority === 3) score += 20; // high
      if (ticket.status === 2) score += 10; // open
      // ìƒì„± í›„ 24ì‹œê°„ ì´ë‚´ë©´ ì¶”ê°€ ì ìˆ˜
      const hoursOld = (Date.now() - new Date(ticket.created_at)) / (1000 * 60 * 60);
      if (hoursOld &lt; 24) score += 15;
      return Math.min(100, score);
  },

  createFallbackTicket(ticket) {
      return {
          id: ticket.id || 'unknown',
          subject: 'ë°ì´í„° ì˜¤ë¥˜',
          description: 'í‹°ì¼“ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.',
          status: 'unknown',
          priority: 'medium',
          created_at: new Date().toISOString(),
          updated_at: new Date().toISOString(),
          tags: [],
          category: 'error',
          urgency_score: 0
      };
  },

  /**
   * ì—…ë°ì´íŠ¸ í™•ì¸ (ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” API í˜¸ì¶œ)
   */
  async checkForUpdates() {
      // ì‹¤ì œë¡œëŠ” ì„œë²„ì— ì—…ë°ì´íŠ¸ í™•ì¸ ìš”ì²­
      // ì—¬ê¸°ì„œëŠ” ëœë¤ìœ¼ë¡œ ì‹œë®¬ë ˆì´ì…˜
      return Math.random() &lt; 0.1; // 10% í™•ë¥ ë¡œ ì—…ë°ì´íŠ¸ ìˆìŒ
  },
};

// Data ëª¨ë“ˆ export - ì£¼ìš” í•¨ìˆ˜ë“¤ì„ Data ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¡œ ë…¸ì¶œ
// (ì´ë¯¸ Data ê°ì²´ ë‚´ë¶€ì— ì •ì˜ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ë³„ë„ í• ë‹¹ ë¶ˆí•„ìš”)

// ì˜ì¡´ì„± í™•ì¸ í•¨ìˆ˜ - ë‹¤ë¥¸ ëª¨ë“ˆì—ì„œ Data ëª¨ë“ˆ ì‚¬ìš© ê°€ëŠ¥ ì—¬ë¶€ ì²´í¬
Data.isAvailable = function() {
  return typeof GlobalState !== 'undefined' &amp;&amp; typeof API !== 'undefined';
};

console.log('ğŸ“Š Data ëª¨ë“ˆ ë¡œë“œ ì™„ë£Œ - 7ê°œ í•¨ìˆ˜ exportë¨');

// ëª¨ë“ˆ ì˜ì¡´ì„± ì‹œìŠ¤í…œì— ë“±ë¡
if (typeof ModuleDependencyManager !== 'undefined') {
  ModuleDependencyManager.registerModule('data', Object.keys(Data).length);
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="global.html#API">API</a></li><li><a href="Data.html">Data</a></li><li><a href="DebugTools.html">DebugTools</a></li><li><a href="Events.html">Events</a></li><li><a href="GlobalState.html">GlobalState</a></li><li><a href="ModuleDependencyManager.html">ModuleDependencyManager</a></li><li><a href="UI.html">UI</a></li><li><a href="Utils.html">Utils</a></li></ul><h3>Global</h3><ul><li><a href="global.html#callBackendAPI">callBackendAPI</a></li><li><a href="global.html#client">client</a></li><li><a href="global.html#debugGlobalState">debugGlobalState</a></li><li><a href="global.html#extractCompanyIdFromDomain">extractCompanyIdFromDomain</a></li><li><a href="global.html#getFreshdeskConfigFromIparams">getFreshdeskConfigFromIparams</a></li><li><a href="global.html#getGlobalLoading">getGlobalLoading</a></li><li><a href="global.html#getGlobalTicketData">getGlobalTicketData</a></li><li><a href="global.html#getInitialized">getInitialized</a></li><li><a href="global.html#globalTicketData">globalTicketData</a></li><li><a href="global.html#initializeApp">initializeApp</a></li><li><a href="global.html#isGlobalDataValid">isGlobalDataValid</a></li><li><a href="global.html#isInitialized">isInitialized</a></li><li><a href="global.html#loadInitialDataFromBackend">loadInitialDataFromBackend</a></li><li><a href="global.html#loadSimilarTicketsFromBackend">loadSimilarTicketsFromBackend</a></li><li><a href="global.html#resetGlobalTicketCache">resetGlobalTicketCache</a></li><li><a href="global.html#setGlobalLoading">setGlobalLoading</a></li><li><a href="global.html#setInitialized">setInitialized</a></li><li><a href="global.html#showErrorInResults">showErrorInResults</a></li><li><a href="global.html#showLoadingInResults">showLoadingInResults</a></li><li><a href="global.html#smartDomainParsingFrontend">smartDomainParsingFrontend</a></li><li><a href="global.html#updateGlobalTicketData">updateGlobalTicketData</a></li><li><a href="global.html#validateAndInitializeApp">validateAndInitializeApp</a></li><li><a href="global.html#validateGlobalState">validateGlobalState</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Mon Jun 16 2025 23:16:45 GMT+0900 (ëŒ€í•œë¯¼êµ­ í‘œì¤€ì‹œ)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>

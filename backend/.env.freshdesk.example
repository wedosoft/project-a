# =====================================================
# 🏢 Freshdesk 전용 SaaS 플랫폼 - 환경별 설정 가이드
# =====================================================
# 
# 📝 이 파일을 .env로 복사하여 환경에 맞게 수정하세요
# 🔒 테넌트별 설정(API 키, 도메인)은 데이터베이스 company_settings 테이블에서 관리됩니다
# 🎯 현재는 Freshdesk만 지원됩니다
#

# ===========================================
# 🗄️ 데이터베이스 환경 설정
# ===========================================

# 🚀 개발 환경 (로컬 개발)
# DATABASE_TYPE=sqlite

# 🏢 프로덕션 환경 (운영 서버)
DATABASE_TYPE=postgresql

# PostgreSQL 설정 (DATABASE_TYPE=postgresql일 때만 사용)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=saas_platform
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_postgres_password

# SQLite 설정 (DATABASE_TYPE=sqlite일 때 사용)
SQLITE_DATA_DIR=./data/sqlite

# ===========================================
# 🏗️ 멀티테넌트 아키텍처 설정
# ===========================================
TENANT_ISOLATION=auto  # auto (DB타입에 따라 자동), file, schema
MAX_TENANTS=10000
TENANT_ID_VALIDATION=strict  # strict 또는 basic
ALLOW_TENANT_CREATION=false  # 프로덕션에서는 false 권장
TENANT_AUTO_PROVISIONING=false

# ===========================================
# 🔐 보안 설정 (시스템 레벨)
# ===========================================
# 테넌트 설정 암호화
TENANT_CONFIG_ENCRYPTION=true
# JWT 비밀 키 (테넌트 인증용)
JWT_SECRET=your-jwt-secret-key-change-this
# 세션 타임아웃 (시간)
SESSION_TIMEOUT_HOURS=24

# ===========================================
# 📊 로깅 및 모니터링
# ===========================================
LOG_LEVEL=INFO
LOG_TENANT_OPERATIONS=true
TENANT_AUDIT_LOG=true
PERFORMANCE_MONITORING=true

# ===========================================
# ⚡ 성능 설정
# ===========================================
CONNECTION_POOL_SIZE=20
QUERY_TIMEOUT=30
API_RATE_LIMIT_GLOBAL=10000  # 전체 시스템 제한 (시간당)

# ===========================================
# 🌍 지원 플랫폼 설정 (Freshdesk 전용)
# ===========================================
SUPPORTED_PLATFORMS=freshdesk
PLATFORM_DISCOVERY_ENABLED=false  # Freshdesk 전용이므로 비활성화

# ===========================================
# 🔧 개발 환경 설정
# ===========================================
DEVELOPMENT_MODE=true
DEBUG_TENANT_ISOLATION=true
DEBUG_SQL_QUERIES=false

# ===========================================
# 📦 백업 및 유지보수
# ===========================================
TENANT_BACKUP_RETENTION_DAYS=90
AUTO_BACKUP_ENABLED=true
MAINTENANCE_MODE=false
